webpackJsonp([2],[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.children;return l["default"].createElement("div",null,l["default"].createElement("ul",null),t)}var o=a(1),l=n(o),i=a(96),c=a(34),u=a(146),s=n(u),d=a(19),f=a(59),p=a(42),m=a(172),h=n(m),y=a(165),v=n(y),b=a(166),g=n(b),E=a(167),_=n(E),I=a(168),w=n(I),N=a(164),C=n(N),O=a(169),S=n(O);a(178);var T=a(16);n(T);a(92).polyfill();var k=(0,c.compose)((0,c.applyMiddleware)(s["default"]),window.devToolsExtension?window.devToolsExtension():function(e){return e})(c.createStore)(h["default"]);(0,i.render)(l["default"].createElement(d.Provider,{store:k},l["default"].createElement(f.Router,{history:(0,p.syncHistoryWithStore)(f.hashHistory,k)},l["default"].createElement(f.Route,{path:"/",component:r},l["default"].createElement(f.IndexRoute,{component:v["default"]}),l["default"].createElement(f.Route,{path:"mycards",component:g["default"]}),l["default"].createElement(f.Route,{path:"record",component:_["default"]}),l["default"].createElement(f.Route,{path:"share",component:w["default"]}),l["default"].createElement(f.Route,{path:"expiry",component:C["default"]}),l["default"].createElement(f.Route,{path:"shareCard",component:S["default"]})))),document.getElementById("root"))},,,,,,,function(e,t){"use strict";function a(e,t){var a=e,n=window.location.href.match(/t.c.m/gi);return n||(a=1===t?e.replace(/t.c.m/,"c.m"):e.replace(/t.c.m.163.com/,"c.m.163.com/nc/qa")),a}function n(e){for(var t={},a=e.split("?"),n=1;n<a.length;n++)for(var r=a[n].split("&"),o=0,l=r.length;o<l;o++)t[r[o].split("=")[0]]=r[o].split("=")[1];return t}function r(e,t){return e&&e.length>t?e.slice(0,t)+"...":e}function o(e){var t="";for(var a in e){var n=e[a];t+=a+" = "+n+"\n"}alert(t)}function l(e,t){var a=new Date(e),n=new Date(t),r=a.getMonth()+1+"."+a.getDate()+" - "+(n.getMonth()+1)+"."+(n.getDate()-1);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.changeUrl=a,t.erilizeUrl=n,t.erilizeText=r,t.writeObj=o,t.limitTime=l;t.isAndroid=navigator.userAgent.match(/android/gi),t.isIos=navigator.userAgent.match(/iphone|ipod|ipad/gi)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(59),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.link,n=e.showMore;return u["default"].createElement("div",{className:"record-title"},u["default"].createElement("div",{className:"record-title-text"},t),n&&u["default"].createElement(s.Link,{className:"record-title-info",to:a}," ",n))}}]),t}(c.Component);t["default"]=d},,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){return function(e){return(0,c["default"])((0,u.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/info",1)).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_SHAREITEM_INFO",data:t.data})})}}function o(e){return function(t){return(0,c["default"])((0,u.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/past/info?cycleId="+e,1)).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_SHARE_INFO",data:e.data})})}}function l(e,t){return function(){return(0,c["default"])((0,u.changeUrl)("http://t.c.m.163.com/uc/activity/card/gift/find?giftId="+encodeURIComponent(e)+"&cardId="+t,1)).then(function(e){return e.json()}).then(function(e){return e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchShareItemInfo=r,t.fetchShareInfo=o,t.fetchQueryCard=l;var i=a(27),c=n(i),u=a(7)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){return function(e){return(0,p["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/userinfo",1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_BASIC_INFO",data:t.data})})}}function o(){return function(e){return(0,p["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/info",1)).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_NOTLOGIN_INFO",data:t.data})})}}function l(e){return function(t){return t({type:"CHANGE_CARDS_NUM",data:e})}}function i(e){return function(t){return t({type:"CHANGE_LOTTERY_STATUS",data:e})}}function c(e){return function(t){return(0,p["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/gift/send?cardId="+e,1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_CARD_INFO",data:e.data})})}}function u(e){return function(t){return(0,p["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/prize/share?lotteryId="+e,1),{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_LOTTERY_ID",data:e})})}}function s(e,t){var a="cardId="+t+"&giftId="+encodeURIComponent(e);return function(e){return(0,p["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/gift/receive",1),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:a}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_SHARE_CARD",data:t.data})})}}function d(e){return function(){return(0,p["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/gift/send?cardId="+e,1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBasicInfo=r,t.fetchNotloginInfo=o,t.changeCardsNum=l,t.changeLotteryStatus=i,t.fetchCardInfo=c,t.sendLotteryId=u,t.receiveCardId=s,t.sendCard=d;var f=a(27),p=n(f),m=a(7)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(16),d=n(s),f=a(7),p=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.close=a.close.bind(a),a.present=a.present.bind(a),a.shareCard=a.shareCard.bind(a),a.giftId=null,a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.cardDialog.addEventListener("touchmove",function(e){e.preventDefault()},!1)}},{key:"componentWillUnmount",value:function(){this.cardDialog.removeEventListener("touchmove",function(e){},!1)}},{key:"close",value:function(){this.props.changeCardStatus(!1)}},{key:"present",value:function(){var e=this,t=this.props,a=t.cardId,n=t.cycleId,r=t.cardLen,o=t.cardName,l=t.prizeName,i=t.cardImg,c=t.prizeId;this.props.changeCardStatus(!1);var u={};this.props.sendCard(a).then(function(t){e.giftId=t.data.giftId,console.log((0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/shareCard?cycleId="+n+"&cardId="+a+"&cardLen="+r+"&prizeId="+c+"&giftId="+encodeURIComponent(e.giftId)+"&",2)),u={wbText:"网易新闻，集卡赢大奖"+(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html?cycleId="+n+"&cardId="+a+"&cardLen="+r+"&prizeId="+c+"&giftId="+encodeURIComponent(e.giftId)+"#/shareCard",2),wbPhoto:i,wxText:"网易新闻，集卡赢大奖",wxTitle:o+"送给你，集齐可领取"+l+"，不用谢我，我只是个传说。",wxUrl:(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/shareCard?cycleId="+n+"&cardId="+a+"&cardLen="+r+"&prizeId="+c+"&giftId="+e.giftId+"&uName=111&",2),wxPhoto:i},d["default"].share.invoke(u,function(){})})}},{key:"shareCard",value:function(){var e="我得到了"+this.props.cardName+"，集齐可得"+this.props.prizeName+",一般人我不告诉TA",t={wbText:"网易新闻，集卡赢大奖"+(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=300&cycleId="+this.props.cycleId+"&cardId="+this.props.cardId+"&nowAmount="+this.props.cardType+"&cardLen="+this.props.cardLen,2),wbPhoto:this.props.cardImg,wxText:"网易新闻，集卡赢大奖",wxTitle:e,wxUrl:(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=300&cycleId="+this.props.cycleId+"&cardId="+this.props.cardId+"&nowAmount="+this.props.cardType+"&cardLen="+this.props.cardLen,2),wxPhoto:this.props.cardImg};d["default"].share.invoke(t,function(){})}},{key:"render",value:function(){var e=this,t={background:"url("+this.props.cardImg+") no-repeat center",backgroundSize:"100% 100%"};return u["default"].createElement("div",{className:"h-card-dialog",ref:function(t){e.cardDialog=t}},u["default"].createElement("div",{className:"dialog-inner"},u["default"].createElement("div",{className:"cover"},u["default"].createElement("div",{className:"cover-card-bg",style:t},!!this.props.cardAmount&&u["default"].createElement("div",{className:"share",onClick:this.shareCard},"晒卡"))),u["default"].createElement("footer",{className:"footer"},u["default"].createElement("div",{className:"info"},(0,f.erilizeText)(this.props.cardMark,28)),u["default"].createElement("div",{className:parseInt(this.props.cardAmount,10)>1?"btn justify-content1":"btn justify-content2"},u["default"].createElement("div",{className:"close",onClick:this.close},"关闭"),parseInt(this.props.cardAmount,10)>1&&u["default"].createElement("div",{className:"present",onClick:this.present},"送给朋友")))))}}]),t}(c.Component);t["default"]=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(156),d=n(s),f=a(157),p=n(f),m=a(158),h=n(m);a(94),a(93);var y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.push,n=e.loginStatus,r=e.isNotHomePage;if(this.props.isNotHomePage){var o=t.share;return u["default"].createElement("div",{className:"marquee-outer"},u["default"].createElement("div",{className:"cur-prize-container"},u["default"].createElement("div",{className:"inner"},u["default"].createElement(p["default"],{data:o.prize,IsNotDisplay:r,MarqClass:this.props.MarqClass,sumAmount:o.cards.length}),u["default"].createElement(d["default"],{allCards:o.cards,isNotHomePage:r,loginStatus:n,prizeName:o.prize.name,endTime:o.cycleInfo.endTime}))))}var l=t.basic,i=t.notlogin;return u["default"].createElement("div",{className:"marquee-outer"},u["default"].createElement(h["default"],{subject:i.cycleInfo,now:i.now}),u["default"].createElement("div",{className:"cur-prize-container"},u["default"].createElement("div",{className:"inner"},u["default"].createElement(p["default"],{data:i.prize,IsNotDisplay:r,MarqClass:this.props.MarqClass,fetchBasicInfo:this.props.fetchBasicInfo,nowAmount:n?l.myCards.length:"",sumAmount:i.cards.length,cycleId:i.cycleInfo.id,prizeId:i.prize.id,push:a,collCardStatus:this.props.collCardStatus,loginStatus:this.props.loginStatus,curPrizeStatus:this.props.curPrizeStatus,shareYet:this.props.changeLotteryStatus,lotteryId:this.props.lotteryId,sendLotteryId:this.props.sendLotteryId,sendLotteryIdErrCode:this.props.sendLotteryIdErrCode}),u["default"].createElement(d["default"],{allCards:i.cards,isNotHomePage:r,loginStatus:n,prizeName:i.prize.name,myCards:n?l.myCards:"",endTime:i.cycleInfo.endTime,changeCardsNum:this.props.changeCardsNum,cycleId:i.cycleInfo.id,prizeId:i.prize.id,sendCard:this.props.sendCard,sendCardInfo:this.props.sendCardInfo}))))}}]),t}(c.Component);t["default"]=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c);a(95);var s=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleScroll=a.handleScroll.bind(a),a.page=1,a.state={page:1,scrollBtn:!1},a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handleScroll,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleScroll,!1)}},{key:"handleScroll",value:function(){var e=this.props.data,t=document.documentElement.scrollHeight||document.body.scrollHeight,a=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientHeight||document.body.clientHeight;a+n+10>=t&&!this.state.scrollBtn?(this.setState({page:this.state.page+1,scrollBtn:!0}),e.getData(this.state.page,this.state.pageSize)):a+n+100<t&&this.setState({scrollBtn:!1})}},{key:"render",value:function(){var e=this.props.data,t=void 0;return t=e.addData?"没有更多了":"正在加载",u["default"].createElement("div",null,this.state.scrollBtn&&u["default"].createElement("div",{className:"load-btn"},u["default"].createElement("div",{className:"logo"}),u["default"].createElement("div",{className:"text"},t)))}}]),t}(c.Component);t["default"]=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c);a(95);var s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){return u["default"].createElement("a",{className:"share-banner",href:"http://m.163.com/newsapp/applinks.html?url=http://t.c.m.163.com/uncharted/index.html"},u["default"].createElement("div",{className:"banner-inner"},u["default"].createElement("div",{className:"banner-l"}),u["default"].createElement("div",{className:"banner-r"},"立即打开 >")))}}]),t}(c.Component);t["default"]=s},function(e,t){"use strict";function a(e){var t={},a=e.img,n=window.location.href,r=e.content,o=e.title;t={imgurl:a,shareUrl:n,summary:r,title:o},document.addEventListener("WeixinJSBridgeReady",function(){window.WeixinJSBridge.on("menu:share:appmessage",function(){window.WeixinJSBridge.invoke("sendAppMessage",{img_url:t.imgurl,link:t.shareUrl,desc:t.summary,title:t.title},function(){})}),window.WeixinJSBridge.on("menu:share:timeline",function(){window.WeixinJSBridge.invoke("shareTimeline",{img_url:t.imgurl,img_width:"200",img_height:"200",link:t.shareUrl,desc:t.summary,title:t.title},function(){})})}),document.addEventListener("YixinJSBridgeReady",function(){window.YixinJSBridge.on("menu:share:appmessage",function(){window.YixinJSBridge.invoke("sendAppMessage",{img_url:t.imgurl,link:t.shareUrl,desc:t.summary,title:t.title},function(){})}),window.YixinJSBridge.on("menu:share:timeline",function(){window.YixinJSBridge.invoke("shareTimeline",{img_url:t.imgurl,img_width:"200",img_height:"200",link:t.shareUrl,desc:t.summary,title:t.title},function(){})})})}Object.defineProperty(t,"__esModule",{value:!0}),t.secondShareInit=a},,function(e,t){e.exports={iosx2:"_2Ov9f9Kkor_0-inI1M7-Q4",iosx3:"_3hq5FQhqQptYXQ2wSBjyrv"}},function(e,t){e.exports={iosx2:"_3M_Kwth4ptScmddBZldbMo",iosx3:"_21qohGXK2I6Jnuti9cogFO"}},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var a=""+encodeURI("prizeId="+e.prizeId+"&cycleId="+e.cycleId+"&lotteryId="+e.lotteryId+"&address="+t.address+"&name="+t.username+"&phone="+t.tele+"&udid="+t.udid);return function(e){return(0,i["default"])((0,c.changeUrl)("http://t.c.m.163.com/uc/activity/card/prize/exchange",1),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:a}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_EXPIRY_PARAMS",data:t})})}}function o(){return function(e){return(0,i["default"])((0,c.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/userinfo",1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_BASIC_INFO",data:t.data})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchExpiryParams=r,t.fetchBasicInfo=o;var l=a(27),i=n(l),c=a(7)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?10:arguments[1];return function(a){return(0,i["default"])((0,c.changeUrl)("http://t.c.m.163.com/uc/activity/card/list?page="+e+"&pageSize="+t,1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){a({type:"FETCH_MYCARDS_INFO",data:e.data})})}}function o(){return function(e){return e({type:"CLEAR_MYCARDS_INFO",data:null})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchMycardsInfo=r,t.clearStore=o;var l=a(27),i=n(l),c=a(7)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?10:arguments[1];return function(a){return(0,i["default"])((0,c.changeUrl)("http://t.c.m.163.com/uc/activity/card/prize/list?page="+e+"&pageSize="+t,1)).then(function(e){return e.json()}).then(function(e){a({type:"FETCH_RECORD_INFO",data:e.data})})}}function o(){return function(e){return e({type:"CLEAR_RECORD_INFO",data:null})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRecordInfo=r,t.clearStore=o;var l=a(27),i=n(l),c=a(7)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(7),d=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.intervals=[],a.handleClick=a.handleClick.bind(a),a.setInterval=a.setInterval.bind(a),a.scrollUp=a.scrollUp.bind(a),a.state={userName:a.props.data[0].passport,cardName:a.props.data[0].name,displayText:""},a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.area,a=this.refs.box1,n=this.refs.cli1.clientHeight;this.setInterval(function(){e.scrollUp(t,a,n)},50)}},{key:"componentWillUnmount",value:function(){this.intervals.map(function(e){return clearInterval(e),!0})}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.intervals.push(setInterval.apply(null,arguments))})},{key:"handleClick",value:function(){window.location="newsapp://subject/SJ07092985555724594961"}},{key:"scrollUp",value:function(e,t,a){var n=this;e.scrollTop>=t.scrollHeight?e.scrollTop=0:(e.scrollTop%a===0&&setTimeout(function(){n.speed=0,setTimeout(function(){n.speed=1},1e3)},0),e.scrollTop=e.scrollTop+this.speed)}},{key:"render",value:function(){var e=this.props.data;return u["default"].createElement("div",{className:"h-carousel",ref:"area"},u["default"].createElement("div",{className:"carouselbox1",onClick:this.handleClick,ref:"box1"},e.map(function(e,t){return u["default"].createElement("div",{className:"awardInfo",key:t,ref:"cli"+t},(0,s.erilizeText)(e.passport+"刚刚得到一张"+e.name,40))})),u["default"].createElement("div",{className:"carouselbox2",ref:"box2"},e.map(function(e,t){return u["default"].createElement("div",{className:"awardInfo",key:t},e.passport+"刚刚得到一张"+e.name)})))}}]),t}(c.Component);t["default"]=d},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(87),d=n(s),f=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.compareCards=a.compareCards.bind(a),a.introCards=a.introCards.bind(a),a.changeCardStatus=a.changeCardStatus.bind(a),a.state={boolCardDialog:!1,cardAmount:0,cardImg:null,cardText:null,cardName:null,cardId:null,sendCardDom:!1},a}return l(t,e),i(t,[{key:"changeCardStatus",value:function(e){this.setState({boolCardDialog:e})}},{key:"compareCards",value:function(e,t){var a=e;return a.map(function(e){return t.map(function(t){return e.id===t.cardId&&(e.amount=t.amount),null}),null}),a}},{key:"introCards",value:function(e,t,a,n,r,o,l){this.setState({boolCardDialog:!0,cardAmount:e,cardImg:t,cardMark:a,cardName:n,cardId:r,sendCardDom:!0,cardDom:o,endTime:l})}},{key:"render",value:function(){var e=this,t=this.props.allCards,a=void 0,n=t.length%3;return this.props.myCards&&(a=this.compareCards(this.props.allCards,this.props.myCards)),u["default"].createElement("ul",{className:"coll-cards-ls"},this.state.boolCardDialog&&u["default"].createElement(d["default"],{cardType:this.props.myCards.length,cardAmount:this.state.cardAmount,cardId:this.state.cardId,cardLen:t.length,cardImg:this.state.cardImg,prizeName:this.props.prizeName,cardName:this.state.cardName,cardImage:this.state.cardImg,cardMark:this.state.cardMark,changeCardStatus:this.changeCardStatus,changeCardsNum:this.props.changeCardsNum,cycleId:this.props.cycleId,endTime:this.state.endTime,prizeId:this.props.prizeId,sendCard:this.props.sendCard,sendCardInfo:this.props.sendCardInfo}),(a||t).map(function(t,a){var n=parseInt(t.amount,10),r=void 0;r=n>99?"99+":t.amount;var o={background:"url("+t.smallImage+") no-repeat center",backgroundSize:"100% 100%"};return u["default"].createElement("li",{className:"card-li",key:a,onClick:e.props.isNotHomePage?"":function(a){e.introCards(t.amount,t.image,t.mark,t.name,t.id,a.target,e.props.endTime)}},u["default"].createElement("div",{className:"li-img"},u["default"].createElement("div",{className:"img-bg",style:o}),e.props.loginStatus===!0&&!t.amount==!0&&u["default"].createElement("div",{className:"card-shade"}),!!t.amount&&u["default"].createElement("span",{className:"card-sum"},"X"+r),!!t.amount&&u["default"].createElement("span",{className:"card-logo",style:{display:t.amount>1?"":"none"}},"送")),2===n?u["default"].createElement("div",{className:"img-shade-container"},u["default"].createElement("div",{className:"img-shade1",style:o})):n>2?u["default"].createElement("div",{className:"img-shade-container"},u["default"].createElement("div",{className:"img-shade1",style:o}),u["default"].createElement("div",{className:"img-shade2",style:o})):"")}),1===n||2===n&&u["default"].createElement("div",{className:1===n?"morediv2":2===n?"morediv1":""}))}}]),t}(c.Component);t["default"]=f},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(16),d=n(s),f=a(7),p=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleShare=a.handleShare.bind(a),a.handleLogin=a.handleLogin.bind(a),a.handleParticipate=a.handleParticipate.bind(a),a.handleToGetPrize=a.handleToGetPrize.bind(a),a.state={prizeStatus:a.props.collCardStatus,loginStatus:a.props.loginStatus},a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.nowAmount,n=t.sumAmount;a&&a===n?this.setState({winnStatus:200}):this.setState({winnStatus:100}),setTimeout(function(){var t=e.props,r=t.data,o=t.cycleId,l="我集到了"+a+"张卡，再集"+(n-a)+"张可获得"+r.name+"，你也来参加吧！";n===a?l="我参加网易新闻集卡活动，获得了"+r.name+"。人品大爆发啊~":0===a&&(l="我发现了个好玩的活动，集齐"+n+"张卡可得"+r.name+"，一般人我不告诉ta"),d["default"].ui.button("分享",function(){var e={wbText:"网易新闻,集卡赢大奖啦"+(0,f.changeUrl)(" http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=100&cycleId="+o+"&nowAmount="+a+"&cardLen="+n,2),wbPhoto:""+r.image,wxText:"网易新闻,集卡赢大奖啦",wxTitle:l,wxUrl:(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=100&cycleId="+o+"&nowAmount="+a+"&cardLen="+n,2),wxPhoto:""+r.image};d["default"].share.invoke(e,function(){return null})})},500)}},{key:"handleShare",value:function(){var e=this,t=this.props,a=t.push,n=t.cycleId,r=t.prizeId,o=t.lotteryId,l=t.data,i=t.nowAmount,c={wbText:"网易新闻,集卡赢大奖啦"+(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus="+this.state.winnStatus+"&cardAmount="+i+"&cycleId="+n,2),wbPhoto:""+l.image,wxText:"网易新闻,集卡赢大奖啦",wxTitle:"我参加网易新闻集卡活动，获得了"+l.name+"。人品大爆发啊~",wxUrl:(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus="+this.state.winnStatus+"&cardAmount="+i+"&cycleId="+n,2),wxPhoto:""+l.image};d["default"].share.invoke(c,function(){e.props.sendLotteryId(o).then(function(){var t=parseInt(e.props.sendLotteryIdErrCode,10);0===t?a("/expiry?prizeId="+r+"&cycleId="+n+"&lotteryId="+o):400===t?alert("请在登陆后领奖"):412===t?(alert("服务器繁忙"),console.log("参数错误")):1===t?(alert("服务器繁忙"),console.log("服务器内部错误")):alert("服务器繁忙")})})}},{key:"handleParticipate",value:function(){d["default"].device(function(e){Math.floor(parseInt(e.v,10))<16?alert("升级到最新版才能参加活动"):window.location.href="pushview://settings"})}},{key:"handleLogin",value:function(){var e=this;d["default"].login(!0,function(t){e.props.fetchBasicInfo(),e.setState({loginStatus:!!t})})}},{key:"handleToGetPrize",value:function(){var e=this.props,t=e.push,a=e.cycleId,n=e.prizeId,r=e.lotteryId;t("/expiry?prizeId="+n+"&cycleId="+a+"&lotteryId="+r)}},{key:"render",value:function(){var e=this.props.data,t="",a="",n="prize-btn",r="";if(this.props.collCardStatus)2===this.props.curPrizeStatus?(t=null,a="已领取",n+=" btn-bgc3"):1===this.props.curPrizeStatus?(t=this.handleToGetPrize,a="点击领取",n+=" btn-bgc2"):0===this.props.curPrizeStatus?(t=this.handleShare,a="分享后领取("+this.props.nowAmount+"/"+this.props.sumAmount+")",n+=" btn-bgc2"):this.props.curPrizeStatus===-1?(t=null,a="已失效",n+=" btn-bgc1"):this.props.nowAmount!==this.props.sumAmount?(t=null,a="集齐可领取("+this.props.nowAmount+"/"+this.props.sumAmount+")",n+=" btn-bgc1"):(t=null,a="未知状态");else{t=this.handleParticipate,
a="立即参与",n+=" btn-bgc3",r="您已关闭此功能";var o=navigator.userAgent;Math.floor(+o.split("NewsApp/",3)[1])<16&&(r="当前版本过低")}var l=e.image,i={background:"url("+l+") no-repeat center",backgroundSize:"100% 100%"};return u["default"].createElement("div",{className:"cur-prize"},u["default"].createElement("div",{className:"cur-prize-img"},u["default"].createElement("div",{className:"prizeImgBg",style:i})),u["default"].createElement("div",{className:this.props.MarqClass||"r-prize"},u["default"].createElement("label",{className:"prize-label-text"},"本期奖品"),u["default"].createElement("span",{className:"prize-info"},(0,f.erilizeText)(e.name,7)),!this.props.IsNotDisplay&&u["default"].createElement("span",{className:"prize-status"},r),!this.props.IsNotDisplay&&u["default"].createElement("div",{className:n,onClick:t},a)))}}]),t}(c.Component);t["default"]=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(7),d=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.countDown=a.countDown.bind(a),a.intervals=[],a.setInterval=a.setInterval.bind(a),a.openTime=a.openTime.bind(a),a.state={timeStyle:!1,cdTime:""},a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.openTime()}},{key:"componentWillUnmount",value:function(){this.intervals.map(function(e){return clearInterval(e),null})}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.intervals.push(setInterval.apply(null,arguments))})},{key:"countDown",value:function(e){var t=new Date(this.props.now).getTime();if(t>e)return"00:00";var a=e/1e3,n=Math.round(t/1e3),r=a-n,o=Math.floor(r/86400),l=Math.floor((r-3600*o*24)/3600),i=Math.floor((r-3600*o*24-3600*l)/60);return l=l<10?"0"+l:l,i=i<10?"0"+i:i,o>=1?(this.setState({timeStyle:!0}),""+o):(this.setState({timeStyle:!1}),l+":"+i)}},{key:"openTime",value:function(){var e=this;this.setState({cdTime:this.countDown(this.props.subject.endTime)}),this.setInterval(function(){e.setState({cdTime:e.countDown(e.props.subject.endTime)})},6e4)}},{key:"render",value:function(){var e=this.props.subject;return u["default"].createElement("header",{className:"title-img"},u["default"].createElement("div",{className:this.state.timeStyle?"cd cd-daystyle":"cd cd-hourstyle"},u["default"].createElement("div",{className:this.state.timeStyle?"cd-in cd-daystyle-in":"cd-in cd-hourstyle-in"},u["default"].createElement("div",{className:"cd-l"},"倒计时"),u["default"].createElement("div",{className:this.state.timeStyle?"cd-r cd-r-daystyle-in":"cd-r cd-r-hourstyle-in"},this.state.cdTime,this.state.timeStyle&&u["default"].createElement("span",{className:"cd-unit"},"天")))),u["default"].createElement("div",{className:"title-text"},(0,s.erilizeText)(e.theme+"主题",10)+" 时限 "+(0,s.limitTime)(e.beginTime,e.endTime)))}}]),t}(c.Component);t["default"]=d},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(41),d=n(s),f=a(7),p=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.compareCards=a.compareCards.bind(a),a.finalCards=null,a}return l(t,e),i(t,[{key:"compareCards",value:function(e,t){this.finalCards=e,this.finalCards.map(function(e){return t.map(function(t){return e.id===t.cardId&&(e.amount=t.amount),!0}),!0})}},{key:"render",value:function(){var e=this.props.data,t=0;return this.compareCards(this.props.data[0].cards,this.props.data[0].myCards),this.finalCards.map(function(e){return e.amount&&(t+=e.amount),!0}),u["default"].createElement("div",{className:"coll-cards-container"},u["default"].createElement(d["default"],{text:"我的集卡记录",showMore:e.length>1?"查看全部 >":"",link:e.length>1?"/mycards?":""}),u["default"].createElement("div",{className:"collect-cards"},u["default"].createElement("div",null,(0,f.erilizeText)(e[0].cycleInfo.theme,8)),u["default"].createElement("div",null,"共"+t+"张")),u["default"].createElement("ul",{className:"coll-cardsls"},e[0].cards.map(function(e,a){var n={background:"url("+e.smallImage+") no-repeat center",backgroundSize:"100% 100%"},r="X"+e.amount;if(t>99&&(r="99+"),a<=5)return u["default"].createElement("li",{className:"coll-cardsli",key:a},u["default"].createElement("div",{style:n,className:"coll-cardsbg"}),!e.amount&&u["default"].createElement("div",{className:"card-shade"}),!!e.amount&&u["default"].createElement("span",{className:"card-text"},r))})))}}]),t}(c.Component);t["default"]=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(41),d=n(s),f=a(16),p=n(f),m=a(7),h=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleShare=a.handleShare.bind(a),a.getPrize=a.getPrize.bind(a),a}return l(t,e),i(t,[{key:"getPrize",value:function(e,t,a){var n=this.props.push;n("/expiry?prizeId="+e+"&cycleId="+a+"&lotteryId="+t)}},{key:"handleShare",value:function(e,t,a){var n=this,r=this.props,o=r.push,l=r.changeLotteryStatus,i=r.data,c=r.cycleId,u=void 0,s=void 0,d=void 0,f={lotteryId:t,status:1};i.lotteryPrizes.map(function(e){return e.cycleInfo.id===a&&(u=e.prize.image,s=e.prize.name,d=e.prize.cardIds.length),!0});var h={wbText:"网易新闻,集卡赢大奖啦"+(0,m.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=200&cycleId="+c+"&cardAmount="+d,2),wbPhoto:""+u,wxText:"网易新闻,集卡赢大奖啦",wxTitle:"我参加网易新闻集卡活动，获得了"+s+"。人品大爆发啊~",wxUrl:(0,m.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=200&cycleId="+c+"&cardAmount="+d,2),wxPhoto:""+u};p["default"].share.invoke(h,function(){p["default"].login(),n.props.sendLotteryId(t).then(function(){var r=parseInt(n.props.sendLotteryIdErrCode,10);0===r?(l(f),o("/expiry?prizeId="+e+"&cycleId="+a+"&lotteryId="+t)):400===r?alert("请在登陆后领奖"):412===r?alert("参数错误"):1===r&&alert("服务器繁忙")})})}},{key:"render",value:function(){var e=this,t=this.props.data,a=new Date;return u["default"].createElement("div",{className:"winn-record"},u["default"].createElement(d["default"],{text:"我的获奖记录"}),u["default"].createElement("ul",{className:"winn-recordls"},t.lotteryPrizes.map(function(t,n){var r=(t.cycleInfo.endTime+6048e5-a.getTime())/864e5,o="",l="",i="",c={background:"url("+t.prize.image+") no-repeat center",backgroundSize:"1.08rem 1.05rem"};switch(t.lotteryInfo.status){case 0:o="winn-li-r btn-style-0",l="分享后领取",i=r>1?"请在"+Math.floor(r)+"天内领取，过期作废":r>=0?"请在"+Math.floor(24*r)+"小时内领取，过期作废":"已过期";break;case 1:o="winn-li-r btn-style-1",l="点击领取",i=r>1?"请在"+Math.floor(r)+"天内领取，过期作废":r>=0?"请在"+Math.floor(24*r)+"小时内领取，过期作废":"已过期";break;case 2:o="winn-li-r btn-style-2",i="已领取",l="已领取";break;case-1:o="winn-li-r btn-style-3",i="已过期",l="已过期"}return u["default"].createElement("li",{className:"winn-li",key:n},u["default"].createElement("div",{className:"winn-li-l"},u["default"].createElement("div",{className:"prize-img",style:c})),u["default"].createElement("div",{className:"winn-li-cen"},u["default"].createElement("div",{className:"prize-name"},(0,m.erilizeText)(t.prize.name,9)),u["default"].createElement("div",{className:"prize-date"},"主题: "+t.cycleInfo.theme),u["default"].createElement("div",{className:"prize-limit"},u["default"].createElement("span",{className:"limit-time"},i))),u["default"].createElement("div",{className:o,onClick:0===t.lotteryInfo.status?function(){e.handleShare(t.prize.id,t.lotteryInfo.id,t.cycleInfo.id)}:1===t.lotteryInfo.status?function(){e.getPrize(t.prize.id,t.lotteryInfo.id,t.cycleInfo.id)}:""},l))})))}}]),t}(c.Component);t["default"]=h},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c);a(180);var s=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.close=a.close.bind(a),a}return l(t,e),i(t,[{key:"close",value:function(){this.props.noCardToGet()}},{key:"render",value:function(){return u["default"].createElement("div",{className:"no-card-container"},u["default"].createElement("div",{className:"n-c-inner"},u["default"].createElement("div",{className:"top"},u["default"].createElement("div",{className:"logo"}),u["default"].createElement("div",{className:"close",onClick:this.close})),u["default"].createElement("div",{className:"bottom"},u["default"].createElement("div",{className:"warn"},"领取失败"),u["default"].createElement("div",{className:"desc"},"卡片已经被别人领取"))))}}]),t}(c.Component);t["default"]=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(41),d=n(s),f=a(7),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props.data;return u["default"].createElement("div",{className:"pari-record"},u["default"].createElement(d["default"],{text:"往期获奖用户",showMore:"查看全部>",link:"/record"}),u["default"].createElement("ul",{className:"pari-recordls"},e.lotteryPrizes.map(function(e,t){if(t>=2)return!0;var a={background:"url("+e.prize.image+") no-repeat center",backgroundSize:"1.08rem 1.05rem"},n={background:"url("+e.lotteryInfo.head+") no-repeat center",backgroundSize:"100% 100%",zIndex:10};return u["default"].createElement("li",{className:"pari-li",key:t},u["default"].createElement("div",{className:"pari-li-l"},u["default"].createElement("div",{className:"pari-logo"},u["default"].createElement("div",{className:"logo-header",style:n})),u["default"].createElement("div",{className:"pari-li-l-r"},u["default"].createElement("div",{className:"pari-prize"},(0,f.erilizeText)(e.cycleInfo.theme,8)+"主题 ",(0,f.erilizeText)(e.prize.name,10)),u["default"].createElement("div",{className:"pari-user"},e.lotteryInfo.passport))),u["default"].createElement("div",{className:"pari-li-r"},u["default"].createElement("div",{style:a,className:"past-prizebg"})))})))}}]),t}(c.Component);t["default"]=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i,c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1),d=n(s),f=a(41),p=n(f),m=(c=i=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,e),u(t,[{key:"render",value:function(){return d["default"].createElement("div",{className:"homeAboutRule"},d["default"].createElement(p["default"],{text:this.props.dataText}),d["default"].createElement("div",{className:"rules-qa"},d["default"].createElement("div",null,"Q：怎样才能获取到卡片？"),d["default"].createElement("div",null,"A：在头条页面多阅读，多刷新就有机会获取到卡片")),d["default"].createElement("div",{className:"rules-qa"},d["default"].createElement("div",null,"Q：如何领取奖品？"),d["default"].createElement("div",null,"A：集齐卡片后，点击“分享后领奖”，分享之后要点击“返回应用”，返回网易新闻后则可以填写领奖信息，领取奖品。")),d["default"].createElement("div",{className:"rules-qa"},d["default"].createElement("div",null,"Q：如何赠送卡片给好友？"),d["default"].createElement("div",null,"A：当某卡片的数量大于等于2张时，点击卡片上的“送给朋友”，则可以赠送给微信、微博好友等，好友通过您的赠送页面，返回网易新闻时就可以领取到您送出的卡片。当一个好友领取到您的卡片后，您的该卡片数量会减1，好友的该卡片数量会加1。每赠送一次，只有一个好友能领取到您赠送的卡片。")),d["default"].createElement("ul",{className:"rules-step"},d["default"].createElement("h3",{className:"rules-step-title"},"活动详情"),d["default"].createElement("li",null,"1. 本次活动奖品由vivo智能手机提供，集齐本期卡片可获取一台vivo X7手机；"),d["default"].createElement("li",null,"2. 请认真核对姓名、电话和邮寄地址等物流信息。如果填写错误，奖品可能就无法给您寄出了；"),d["default"].createElement("li",null,"3. 奖品会在每期活动结束后7个工作日内寄出。如有问题，可以发邮件至vivojika2016@163.com；"),d["default"].createElement("li",null,"4. 港、澳、台、藏区、海外等地区，因快递无法寄送，如领奖请联系客服，需要自付邮费哦；"),d["default"].createElement("li",null,"5. 本次活动奖品均不可替换成现金，也不提供发票，无退货、换货服务；"),d["default"].createElement("li",null,"6. 活动主办方、解释权为网易新闻。活动所有奖品均和苹果公司无关。")))}}]),t}(s.Component),i.defaultProps={dataText:"详细规则",datatInfo:""},c);t["default"]=m},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=r(u),d=a(19),f=a(152),p=n(f),m=a(86),h=a(7),y=a(16),v=r(y);a(177);var b=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a.cancel=a.cancel.bind(a),a.submit=a.submit.bind(a),a.state={warnDisplay:!1,displayInfo:!1,username:"",tele:"",address:"",device:""},a.params=null,a.udid=null,a}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;v["default"].device(function(t){e.udid=t.u}),this.params=(0,h.erilizeUrl)(window.location.href),this.tele.addEventListener("blur",function(){var t=/^1[3|4|5|7|8][0-9]{9}$/,a=t.test(e.tele.value);a===!1&&alert("手机号码格式错误")},!1)}},{key:"componentWillUnmount",value:function(){(0,m.fetchBasicInfo)()}},{key:"handleClick",value:function(){return 0===this.username.value.length||0===this.tele.value.length||0===this.address.value.length?void alert("请输入完整的个人信息!"):void this.setState({warnDisplay:!0,username:this.username.value,tele:this.tele.value,address:this.address.value})}},{key:"cancel",value:function(){this.setState({warnDisplay:!1})}},{key:"submit",value:function(){var e=this,t={address:this.state.address,username:this.state.username,tele:this.state.tele,udid:this.udid},a=new XMLHttpRequest,n=null;a.open("post","http://t.c.m.163.com/uc/activity/card/prize/exchange",!0),a.send(null),a.onreadystatechange=function(){4==a.readyState&&(a.status>=200&&a.status<300||304==a.status?n=!0:(alert("当前网络不稳定,请稍后再试"),n=!1))},setTimeout(function(){return n?(v["default"].login(function(){}),void e.props.fetchExpiryParams(e.params,t).then(function(){var t=e.props.data.expiryParams.errcode;switch(t){case 0:e.setState({warnDisplay:!1,displayInfo:!0});break;case 1:e.cancel(),alert("领奖失败，请稍后再试");break;case 400:e.cancel(),alert("服务器繁忙,请稍后再试");break;case 415:e.cancel(),alert("奖品已过期");break;case 416:e.cancel(),alert("奖品条件不满足");break;case 417:e.cancel(),alert("领奖失败，请稍后再试");break;default:return}})):(e.cancel(),!1)},500)}},{key:"render",value:function(){var e=this;return s["default"].createElement("div",{className:"expiry-container"},!this.state.displayInfo&&s["default"].createElement("div",{className:"expiry"},s["default"].createElement("header",{className:"exp-header"},s["default"].createElement("div",{className:"dot"}),s["default"].createElement("div",{className:"info"},"为了让客服及时联系您，请填写个人信息")),s["default"].createElement("section",{className:"exp-section"},s["default"].createElement("article",{className:"form-item"},s["default"].createElement("div",{className:"label"},"姓名："),s["default"].createElement("div",{className:"input"},s["default"].createElement("input",{type:"text",ref:function(t){e.username=t}}))),s["default"].createElement("article",{className:"form-item"},s["default"].createElement("div",{className:"label"},"手机："),s["default"].createElement("div",{className:"input"},s["default"].createElement("input",{type:"tel",ref:function(t){e.tele=t}}))),s["default"].createElement("article",{className:"form-item"},s["default"].createElement("div",{className:"label"},"住址："),s["default"].createElement("div",{className:"input"},s["default"].createElement("input",{type:"text",ref:function(t){e.address=t}})))),s["default"].createElement("footer",{className:"exp-footer"},s["default"].createElement("div",{className:"btn",onClick:this.handleClick},"立即提交"))),this.state.warnDisplay&&s["default"].createElement("div",{className:"exp-warnInfo"},s["default"].createElement("div",{className:"inner"},s["default"].createElement("header",{className:"header"},"确认信息"),s["default"].createElement("section",{className:"content"},s["default"].createElement("div",{className:"item-info"},s["default"].createElement("span",null,"姓名："),s["default"].createElement("span",null,this.state.username)),s["default"].createElement("div",{className:"item-info"},s["default"].createElement("span",null,"手机："),s["default"].createElement("span",null,this.state.tele)),s["default"].createElement("div",{className:"item-info"},s["default"].createElement("span",null,"住址："),s["default"].createElement("span",null,this.state.address))),s["default"].createElement("footer",{className:"footer"},s["default"].createElement("div",{className:"cancel",onClick:this.cancel},"取消"),s["default"].createElement("div",{className:"submit",onClick:this.submit},"确认")))),this.state.displayInfo&&s["default"].createElement("div",{className:"exp-displayInfo"},s["default"].createElement("header",{className:"header"},s["default"].createElement("div",{className:"img"})),s["default"].createElement("section",{className:"center"},s["default"].createElement("div",{className:"li"},s["default"].createElement("span",{className:"tag"},"姓名："),s["default"].createElement("span",{className:"info"},this.state.username)),s["default"].createElement("div",{className:"li"},s["default"].createElement("span",{className:"tag"},"电话："),s["default"].createElement("span",{className:"info"},this.state.tele)),s["default"].createElement("div",{className:"li"},s["default"].createElement("span",{className:"tag"},"地址："),s["default"].createElement("span",{className:"info"},this.state.address))),s["default"].createElement("footer",{className:"footer"},s["default"].createElement("div",{className:"useforuser"},s["default"].createElement("div",{className:"logo"}),s["default"].createElement("div",{className:"prompt"},"我们将在每期活动结束后的7个工作日内为您寄出奖品，有问题请发邮件至vivojika2016@163.com")))))}}]),t}(u.Component);t["default"]=(0,d.connect)(function(e){return{data:e.expiry}},p)(b)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1),d=r(s),f=a(34),p=a(19),m=a(42),h=a(86),y=n(h),v=a(55);a(94),a(93);var b=a(88),g=r(b),E=a(155),_=r(E),I=a(160),w=r(I),N=a(162),C=r(N),O=a(159),S=r(O),T=a(163),k=r(T),j=a(87),P=r(j),x=a(161),z=r(x),M=a(16),A=r(M),R=a(7),D=function(e){function t(e){l(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.intervals=[],a.judgeHlcStatus=a.judgeHlcStatus.bind(a),a.judgeEdition=a.judgeEdition.bind(a),a.getCardStatus=a.getCardStatus.bind(a),a.getData=a.getData.bind(a),a.noCardToGet=a.noCardToGet.bind(a),a.params=(0,R.erilizeUrl)(location.href),a.cardImg=null,a.cardName=null,a.cardMark=null,a.state={loginStatus:!1,isNotHomePage:!1,collCardStatus:!1,needToUpdate:!1,cardStatus:!1,noCard:!1},a}return c(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;A["default"].ui.title("头条集卡兑大奖"),A["default"].login(!0,function(t){setTimeout(function(){t&&(e.params.getCard?e.props.fetchQueryCard(e.params.giftId,e.params.cardId).then(function(t){t.data&&t.data.valid?(e.setState({cardStatus:!!e.params.getCard}),e.props.actions.receiveCardId(e.params.giftId,e.params.cardId).then(function(){e.getData()})):(e.noCardToGet(),e.getData())}):e.getData(),e.judgeEdition(),e.judgeHlcStatus())},500)}),window.__headlineCard_open=function(){e.judgeHlcStatus()},setTimeout(function(){e.params.getCard&&window.history.replaceState([],"","index.html")},500)}},{key:"getCardStatus",value:function(){this.setState({cardStatus:!this.state.cardStatus})}},{key:"getData",value:function(){this.props.actions.fetchNotloginInfo(),this.props.actions.fetchBasicInfo(),this.setState({loginStatus:!0})}},{key:"judgeEdition",value:function(){var e=this;A["default"].device(function(t){Math.floor(parseInt(t.v,10))<16?alert("升级到最新版才能参加活动"):e.judgeHlcStatus()})}},{key:"judgeHlcStatus",value:function(){var e=this;A["default"].settings(function(t){e.setState({collCardStatus:t.headlineCard})})}},{key:"noCardToGet",value:function(){this.setState({noCard:!this.state.noCard,cardStatus:!1})}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.data,r=a.history,l=n.basic,i=n.notlogin;if(!i)return null;if(this.params.getCard&&i.cards.map(function(e){return e.id===parseInt(t.params.cardId,10)&&(t.cardImg=e.image,t.cardName=e.name,t.cardMark=e.mark),null}),!l)return null;for(var c=i.cycleInfo.id,u=void 0,s=0;s<l.lotteryPrizes.length;s++){var f=l.lotteryPrizes[s];if(f.cycleInfo.id===c){u=f.lotteryInfo.status;break}}var p=0;return l.myCards.map(function(e){return e.cardId===t.params.cardId&&(p=e.amount),!0}),d["default"].createElement("div",{className:"h-main-container"},!!this.state.cardStatus&&d["default"].createElement(P["default"],{cardType:l.myCards.length,cardAmount:p,cardId:this.params.cardId,cardLen:i.cards.length,cardImg:this.cardImg,prizeName:i.prize.name,cardName:this.cardName,cardMark:this.cardMark,changeCardStatus:this.getCardStatus,changeCardsNum:this.props.actions.changeCardsNum,cycleId:i.cycleInfo.id,endTime:i.cycleInfo.endTime,sendCard:this.props.actions.sendCard,sendCardInfo:n.sendCardInfo}),this.state.noCard&&d["default"].createElement(z["default"],{noCardToGet:this.noCardToGet}),d["default"].createElement(g["default"],(e={data:n,isNotHomePage:this.state.isNotHomePage,loginStatus:this.state.loginStatus,push:r.push,changeCardsNum:this.props.actions.changeCardsNum,collCardStatus:this.state.collCardStatus},o(e,"loginStatus",this.state.loginStatus),o(e,"curPrizeStatus",u),o(e,"sendLotteryId",this.props.actions.sendLotteryId),o(e,"lotteryId",0!=l.lotteryPrizes.length?l.lotteryPrizes[0].lotteryInfo.id:null),o(e,"sendLotteryIdErrCode",this.props.data.sendLotteryId?this.props.data.sendLotteryId.errcode:null),o(e,"sendCard",this.props.actions.sendCard),o(e,"sendCardInfo",n.sendCardInfo),e)),d["default"].createElement(_["default"],{data:i.carousel}),d["default"].createElement("div",{className:"list-change-style"},!!l.lotteryPrizes&&0!==l.lotteryPrizes.length&&d["default"].createElement(w["default"],{data:l,push:r.push,changeLotteryStatus:this.props.actions.changeLotteryStatus,cycleId:i.cycleInfo.id,sendLotteryId:this.props.actions.sendLotteryId,sendLotteryIdErrCode:this.props.data.sendLotteryId?this.props.data.sendLotteryId.errcode:null}),!!i&&0!=i.lotteryPrizes.length&&d["default"].createElement(C["default"],{data:i})),!!l.lotteryCards[0]&&l.lotteryCards.length>0&&d["default"].createElement(S["default"],{data:l.lotteryCards}),d["default"].createElement(k["default"],null))}}]),t}(s.Component);t["default"]=(0,p.connect)(function(e){return{data:e.home,shareItem:e.shareItem}},function(e){return{actions:(0,f.bindActionCreators)(y,e),push:(0,f.bindActionCreators)(m.push,e),fetchQueryCard:(0,f.bindActionCreators)(v.fetchQueryCard,e)}})(D)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=r(u),d=a(19),f=a(153),p=n(f),m=a(89),h=r(m),y=a(7),v=a(16),b=r(v);a(179),a(182);var g=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={page:1,scrollBtn:!1},a.compareCards=a.compareCards.bind(a),a.props.fetchMycardsInfo(),a}return i(t,e),c(t,[{key:"compareCards",value:function(e,t){e.map(function(e){return t.map(function(t){return e.id===t.cardId&&(e.amount=t.amount),!0}),!0})}},{key:"componentDidMount",value:function(){b["default"].ui.title("我的集卡")}},{key:"componentWillUnmount",value:function(){this.props.clearStore()}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.mycards;if(!a)return null;var n={page:1,pageSize:10,dataType:1,whichPage:a,getData:this.props.fetchMycardsInfo,addData:a.noMoreData};return a.lotteryCards.map(function(t){return e.compareCards(t.cards,t.myCards)}),s["default"].createElement("div",{className:"mycards-container"},s["default"].createElement("ul",{className:"mycards-ls"},a.lotteryCards.map(function(e,t){var a=0;return 0===e.cards.length?null:(e.cards.map(function(e){return e.amount&&(a+=parseInt(e.amount,10)),a}),s["default"].createElement("li",{className:"mycards-li",key:t},s["default"].createElement("div",{className:"OneSubcards"},s["default"].createElement("div",{
className:"cards"},s["default"].createElement("div",null,(0,y.erilizeText)(e.cycleInfo.theme,8)),s["default"].createElement("div",null,"共集齐",a,"张")),s["default"].createElement("ul",{className:"ls"},e.cards.map(function(e,t){var a={background:"url("+e.smallImage+") no-repeat center",backgroundSize:"100% 100%"},n=void 0;return e.amount&&(n="X"+e.amount),e.amount>99&&(n="99+"),s["default"].createElement("li",{className:"li",key:t},!e.amount&&s["default"].createElement("div",{className:"card-bg shade-img"}),s["default"].createElement("div",{style:a,className:"card-bg"}),!!n&&s["default"].createElement("div",{className:"number"},n))})))))})),s["default"].createElement(h["default"],{data:n}))}}]),t}(u.Component);t["default"]=(0,d.connect)(function(e){return{data:e.mycards}},p)(g)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=r(u),d=a(19),f=a(154),p=n(f),m=a(89),h=r(m);a(181);var y=a(7),v=a(16),b=r(v),g=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.props.fetchRecordInfo(),a}return i(t,e),c(t,[{key:"componentDidMount",value:function(){b["default"].ui.title("历史获奖记录")}},{key:"componentWillUnmount",value:function(){this.props.clearStore()}},{key:"render",value:function(){var e=this.props.data,t=e.record;if(!t)return null;var a={page:1,pageSize:10,dataType:1,whichCards:t,getData:this.props.fetchRecordInfo,addData:t.noMoreData};return s["default"].createElement("div",{className:"record-page"},s["default"].createElement("ul",{className:"ls"},e.record.lotteryPrizes.map(function(e,t){var a={background:"url("+e.prize.image+") no-repeat center",backgroundSize:"1.08rem 1.05rem"},n=(0,y.limitTime)(e.cycleInfo.beginTime,e.cycleInfo.endTime),r=e.cycleInfo.theme,o=e.prize.name,l=n+r+o;return s["default"].createElement("li",{className:"li",key:t},s["default"].createElement("div",{className:"li-l"},s["default"].createElement("div",{className:"logo"}),s["default"].createElement("div",{className:"li-l-r"},s["default"].createElement("div",{className:"prize"},(0,y.erilizeText)(l,32)),s["default"].createElement("div",{className:"user"},e.lotteryInfo.passport))),s["default"].createElement("div",{className:"li-r"},s["default"].createElement("div",{className:"prize-bg",style:a})))})),s["default"].createElement(h["default"],{data:a}))}}]),t}(u.Component);t["default"]=(0,d.connect)(function(e){return{data:e.record}},p)(g)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1),d=n(s),f=a(19),p=a(34),m=a(55);a(183);var h=a(91),y=a(7),v=a(88),b=n(v),g=a(90),E=n(g),_=(c=i=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handleClick=a.handleClick.bind(a),a.secondShare=a.secondShare.bind(a);var n=(0,y.erilizeUrl)(window.location.href);return a.state={winnStatus:n.winnStatus,cardId:n.cardId||"not find the cardId!",cardAmount:n.cardAmount,cycleId:n.cycleId,cardLen:n.cardLen},a.cardImg="",a.cardName="",a.props.fetchShareInfo(n.cycleId),a}return l(t,e),u(t,[{key:"handleClick",value:function(){window.location.href=(0,y.changeUrl)("http://m.163.com/newsapp/applinks.html?url=http://t.c.m.163.com/uncharted/index.html",2)}},{key:"secondShare",value:function(e,t,a,n,r,o){var l={title:"",content:"",img:""},i=e+t;switch(parseInt(this.state.winnStatus,10)){case 100:l.title="我还差"+t+"张卡，集齐可得"+r+"。私聊我，咱们互换吧~",l.content="网易新闻,集卡赢大奖啦",l.img=o,0===t?l.title="我参加网易新闻集卡活动，获得了"+r+"。人品大爆发啊~":0===e&&(l.title="我发现了个好玩的活动，集齐"+i+"张卡可得"+r+"，一般人我不告诉TA");break;case 200:l.title="我参加网易新闻集卡活动，获得了"+r+"。人品大爆发啊~",l.content="网易新闻,集卡赢大奖啦",l.img=o;break;case 300:l.title="我得到了"+a+"，集齐可得"+r+",你也来参加吧",l.content="网易新闻,集卡赢大奖啦",l.img=n;break;default:return}(0,h.secondShareInit)(l)}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.share;if(!a)return null;var n=(0,y.erilizeUrl)(window.location.href),r=a.prize,o=parseInt(n.cardLen,10)-parseInt(n.nowAmount,10);o=o<=0?0:o;var l=a.cycleInfo.theme;a.cards.map(function(t){return parseInt(t.id,10)===parseInt(e.state.cardId,10)&&(e.cardImg=t.image,e.cardName=t.name),!0}),this.secondShare(n.cardLen,o,this.cardName,this.cardImg,r.name,r.image);var i={background:"url("+this.cardImg+") no-repeat center",backgroundSize:"cover"},c={background:"url("+r.image+") no-repeat center",backgroundSize:"cover"};return d["default"].createElement("div",null,d["default"].createElement(E["default"],null),"100"===this.state.winnStatus?d["default"].createElement("div",{className:"share oneBg"},d["default"].createElement("header",{className:"header mb1"},d["default"].createElement("div",null,d["default"].createElement("div",{className:"title"},this.props.prizeTitle),d["default"].createElement("div",{className:"text"},l))),d["default"].createElement(b["default"],{data:t,isNotHomePage:this.props.isNotDisplay,MarqClass:this.props.MarqClass}),d["default"].createElement("footer",{className:"footer"},0!==o?d["default"].createElement("div",{className:"info1"},d["default"].createElement("div",{className:"card-No"},0===parseInt(n.nowAmount,10)?(0,y.erilizeText)("我还差"+o+"张卡,集齐可得"+r.name+"。私聊我，咱们互换吧~",30):(0,y.erilizeText)("我发现了个好玩的活动,集齐"+parseInt(n.cardLen,10)+"张可得"+r.name+",一般人我不告诉TA",35))):d["default"].createElement("div",{className:"info1"},d["default"].createElement("div",{className:"card-No"},"我参加了网易新闻集卡活动,获得了",r.name),d["default"].createElement("div",{className:"prize"},"人品大爆发啊~")),d["default"].createElement("div",{className:"share-btn btn-margin12",onClick:this.handleClick},"我要参与"))):"200"===this.state.winnStatus?d["default"].createElement("div",{className:"share oneBg"},d["default"].createElement("header",{className:"header mb2"},d["default"].createElement("div",{className:"info"},d["default"].createElement("div",{className:"userinfo"},"我参加了网易新闻集卡活动,获得了"+r.name),d["default"].createElement("div",{className:"introduce"},"人品大爆发啊~")),d["default"].createElement("div",{className:"winnlogo"})),d["default"].createElement(b["default"],{data:t,isNotHomePage:this.props.isNotDisplay,MarqClass:this.props.MarqClass}),d["default"].createElement("footer",{className:"footer"},d["default"].createElement("div",{className:"info2"},d["default"].createElement("div",{className:"prize-title"},this.props.prizeTitle),d["default"].createElement("div",{className:"address"},l)),d["default"].createElement("div",{className:"share-btn btn-margin12",onClick:this.handleClick},"我要参与"))):d["default"].createElement("div",{className:"share anotherBg"},d["default"].createElement("header",{className:"header mb3"},d["default"].createElement("div",{className:"header-inner"},d["default"].createElement("div",{className:"title"},this.props.prizeTitle),d["default"].createElement("div",{className:"text"},l))),d["default"].createElement("div",{className:"shareCard-img"},d["default"].createElement("div",{className:"sharecard-bg",style:i})),d["default"].createElement("footer",{className:"footer"},d["default"].createElement("div",{className:"info3"},d["default"].createElement("div",{className:"info3-img"},d["default"].createElement("div",{className:"info3prize-bg",style:c})),d["default"].createElement("div",{className:"info3-text"},d["default"].createElement("div",{className:"info3-card"},o>0?"我得到了"+this.cardName+"，集齐可得"+r.name+"，一般人我不告诉TA":"我得到了"+this.cardName+"，得到了"+r.name+",一般人我不告诉TA"))),d["default"].createElement("div",{className:"share-btn btn-margin3",onClick:this.handleClick},"我要参与"))))}}]),t}(s.Component),i.defaultProps={isNotDisplay:!0,MarqClass:"r-prize-another",prizeTitle:"头条集卡得大奖！",address:"11111",cardName:"",prizeName:"",cardImg:""},c);t["default"]=(0,f.connect)(function(e){return{data:e.shareItem}},function(e){return{fetchShareInfo:(0,p.bindActionCreators)(m.fetchShareInfo,e)}})(_)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=r(u),d=a(19),f=a(55),p=n(f),m=a(91),h=a(7);a(184);var y=a(90),v=r(y),b=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a.goCollect=a.goCollect.bind(a),a.compareTimeOut=a.compareTimeOut.bind(a),a.secondShare=a.secondShare.bind(a),a.params=(0,h.erilizeUrl)(window.location.href),a.state={userName:"",cardName:"",alreadyGet:!1,cardId:a.params.cardId||"Can not find the cardId!",timeOut:!1},a}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchShareInfo(this.params.cycleId),this.props.fetchQueryCard(this.params.giftId,this.params.cardId).then(function(t){var a=e.props.data.share;return a&&t?(e.compareTimeOut(a.cycleInfo.endTime),null!=t.data&&t.data.valid?e.setState({alreadyGet:!1}):e.setState({alreadyGet:!0}),null):null})}},{key:"handleClick",value:function(){window.location.href="http://m.163.com/newsapp/applinks.html?url="+encodeURIComponent((0,h.changeUrl)("http://t.c.m.163.com/uncharted/index.html?getCard=1&cardId=",2)+this.params.cardId+"&giftId="+this.params.giftId+"&")}},{key:"compareTimeOut",value:function(e){var t=new Date,a=void 0;t=t.getTime(),a=t>e,this.setState({timeOut:a})}},{key:"goCollect",value:function(){window.location.href="http://m.163.com/newsapp/applinks.html?url="+(0,h.changeUrl)("http://t.c.m.163.com/uncharted/index.html",2)}},{key:"secondShare",value:function(e,t,a){var n={title:(0,h.erilizeText)(e+"送给你，集齐可领取"+a+",不用谢我，我只是个传说。",40),content:"网易新闻,集卡赢大奖啦",img:t};(0,m.secondShareInit)(n)}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.share,n=t.queryCard;if(!a&&!n)return null;var r=a.cards,o=a.prize.id,l="",i="",c="";r.map(function(t){return parseInt(t.id,10)===parseInt(e.state.cardId,10)&&(l=t.mark,i=t.image,c=t.name),!0}),this.secondShare(c,i,a.prize.name);var u={background:"url("+i+") no-repeat center",backgroundSize:"cover"};return s["default"].createElement("div",{className:"sharecard"},s["default"].createElement(v["default"],null),s["default"].createElement("div",{className:"title"},s["default"].createElement("div",null,s["default"].createElement("div",{className:"user"},(0,h.erilizeText)(c+"送给你,集齐可得"+a.prize.name,18)),s["default"].createElement("div",{className:"desc"},"不用谢我，我只是个传说"))),s["default"].createElement("div",{className:"info-outer"},s["default"].createElement("div",{className:"inner"},s["default"].createElement("div",{className:"img"},s["default"].createElement("div",{className:"img-bg",style:u})),s["default"].createElement("div",{className:"text"},l),s["default"].createElement("div",{className:"btn",onClick:this.state.alreadyGet||this.state.timeOut?this.goCollect:function(){e.handleClick(o,e.state.cardId)}},this.state.alreadyGet||this.state.timeOut?"自己去收集":"领取")),this.state.alreadyGet?s["default"].createElement("div",{className:"get-logo get-alreadylogo"}):this.state.timeOut?s["default"].createElement("div",{className:"get-logo get-timeOutlogo"}):""))}}]),t}(u.Component);t["default"]=(0,d.connect)(function(e){return{data:e.shareItem}},p)(b)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"FETCH_EXPIRY_PARAMS":return(0,l["default"])({},e,{expiryParams:(0,l["default"])({},e.expiryParams,t.data)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(26),l=n(o),i=t.INIT_STATE={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1],a=(0,l["default"])({},{},e);switch(t.type){case"FETCH_BASIC_INFO":return(0,l["default"])({},e,{basic:(0,l["default"])({},e.basic,t.data)});case"FETCH_NOTLOGIN_INFO":return(0,l["default"])({},e,{notlogin:(0,l["default"])({},e.notlogin,t.data)});case"CHANGE_CARDS_NUM":return a.basic.myCards.map(function(e,n){return 0===t.data.cardId?a.basic.myCards.splice(n,1):e.cardId===t.data.cardId&&(e.amount=t.data.amount),!0}),a;case"CHANGE_LOTTERY_STATUS":a.basic.lotteryPrizes.map(function(e){return e.lotteryInfo.id===t.data.lotteryId&&(e.lotteryInfo.status=t.data.status),!0});case"FETCH_LOTTERY_ID":return(0,l["default"])({},e,{sendLotteryId:(0,l["default"])({},e.sendLotteryId,t.data)});case"FETCH_SHARE_CARD":return(0,l["default"])({},e,{shareCard:(0,l["default"])({},e.shareCard,t.data)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(26),l=n(o),i=t.INIT_STATE={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),o=a(42),l=a(171),i=n(l),c=a(174),u=n(c),s=a(173),d=n(s),f=a(175),p=n(f),m=a(170),h=n(m),y=(0,r.combineReducers)({routing:o.routerReducer,home:i["default"],record:u["default"],mycards:d["default"],shareItem:p["default"],expiry:h["default"]});t["default"]=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"FETCH_MYCARDS_INFO":if(e.mycards){if(0===t.data.lotteryCards.length)return(0,l["default"])({},e,{mycards:{noMoreData:!0}});var a=[].concat(e.mycards.lotteryCards,t.data.lotteryCards);return(0,l["default"])({},e,{mycards:{lotteryCards:a}})}return(0,l["default"])({},e,{mycards:(0,l["default"])({},e.mycards,t.data)});case"CLEAR_MYCARDS_INFO":e.mycards=null;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(26),l=n(o),i=t.INIT_STATE={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"FETCH_RECORD_INFO":if(e.record){if(0===t.data.lotteryPrizes.length)return(0,l["default"])({},e,{record:{noMoreData:!0}});var a=[].concat(e.record.lotteryPrizes,t.data.lotteryPrizes);return(0,l["default"])({},e,{record:{lotteryPrizes:a,noMoreData:!1}})}return(0,l["default"])({},e,{record:(0,l["default"])({},e.record,t.data)});case"CLEAR_RECORD_INFO":e.record=null;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(26),l=n(o),i=t.INIT_STATE={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"FETCH_SHAREITEM_INFO":return(0,l["default"])({},e,{notlogin:(0,l["default"])({},e.notlogin,t.data)});case"FETCH_SHARE_INFO":return(0,l["default"])({},e,{share:(0,l["default"])({},e.shareInfo,t.data)});case"FETCH_QUERY_CARD":return(0,l["default"])({},e,{queryCard:(0,l["default"])({},e.queryCard,t.data)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(26),l=n(o),i=t.INIT_STATE={}},,function(e,t){e.exports={iosx2:"_1w5Jgy9URCcYv7qt_hA67V",iosx3:"_3XpMZlDJhzqEjRbkQBWhJH"}},function(e,t){},function(e,t){},function(e,t){e.exports={iosx2:"JA951Uz_i9v0e_ttZaCgf",iosx3:"_2FTx7owJZch1WTX7R2ooxC"}},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={iosx2:"CH99yOudwEFf2fylITNtJ",iosx3:"OnWUNDvqRFx8YpY433Fzs"}}]);