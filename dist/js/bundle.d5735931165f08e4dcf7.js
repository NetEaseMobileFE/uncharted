webpackJsonp([2],[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.children;return l["default"].createElement("div",null,l["default"].createElement("ul",null),t)}var o=a(1),l=n(o),i=a(96),c=a(34),u=a(146),s=n(u),d=a(19),f=a(59),m=a(41),p=a(172),h=n(p),y=a(165),v=n(y),b=a(166),g=n(b),E=a(167),_=n(E),w=a(168),I=n(w),N=a(164),C=n(N),S=a(169),T=n(S);a(178);var O=a(16);n(O);a(92).polyfill();var k=(0,c.compose)((0,c.applyMiddleware)(s["default"]),window.devToolsExtension?window.devToolsExtension():function(e){return e})(c.createStore)(h["default"]);(0,i.render)(l["default"].createElement(d.Provider,{store:k},l["default"].createElement(f.Router,{history:(0,m.syncHistoryWithStore)(f.hashHistory,k)},l["default"].createElement(f.Route,{path:"/",component:r},l["default"].createElement(f.IndexRoute,{component:v["default"]}),l["default"].createElement(f.Route,{path:"mycards",component:g["default"]}),l["default"].createElement(f.Route,{path:"record",component:_["default"]}),l["default"].createElement(f.Route,{path:"share",component:I["default"]}),l["default"].createElement(f.Route,{path:"expiry",component:C["default"]}),l["default"].createElement(f.Route,{path:"shareCard",component:T["default"]})))),document.getElementById("root"))},,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var a=e,n=window.location.href.match(/t\.c\.m/i);return n||(a=1===t?e.replace(/t\.c\.m/,"c.m"):e.replace(/t\.c\.m\.163\.com/,"c.m.163.com/nc/qa")),window.location.href.match(/c\.3g/i)&&(a=a.replace(/c\.m/i,"c.3g")),a}function o(e){for(var t={},a=e.split("?"),n=1;n<a.length;n++)for(var r=a[n].split("&"),o=0,l=r.length;o<l;o++)t[r[o].split("=")[0]]=r[o].split("=")[1];return t}function l(e,t){return e&&e.length>t?e.slice(0,t)+"...":e}function i(e,t){var a=new Date(e),n=new Date(t-864e5),r=a.getMonth()+1+"."+a.getDate()+" - "+(n.getMonth()+1)+"."+n.getDate();return r}function c(e,t){return e.map(function(e){var a=(0,f["default"])({},e),n=t.find(function(t){return t.cardId===e.id});return n?(0,f["default"])({},e,{amount:n.amount}):a})}function u(e){e.preventDefault()}function s(e){var t=document.documentElement.scrollTop||document.body.scrollTop;sessionStorage.setItem(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isIos=t.isAndroid=void 0,t.changeUrl=r,t.erilizeUrl=o,t.erilizeText=l,t.limitTime=i,t.compareCards=c,t.ePreventDefault=u,t.sessionStorageHeight=s;var d=a(24),f=n(d);Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,a=Object(this),n=a.length>>>0,r=arguments[1],o=0;o<n;o++)if(t=a[o],e.call(r,t,o,a))return t});t.isAndroid=navigator.userAgent.match(/android/gi),t.isIos=navigator.userAgent.match(/iphone|ipod|ipad/gi)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.text,a=e.link,n=e.showMore;return l["default"].createElement("div",{className:"record-title"},l["default"].createElement("div",{className:"record-title-text"},t),n&&l["default"].createElement(i.Link,{className:"record-title-info",to:a}," ",n))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=a(1),l=n(o),i=a(59)},,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){return function(e){return(0,c["default"])((0,u.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/info",1)).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_SHAREITEM_INFO",data:t.data})})}}function o(e){return function(t){return(0,c["default"])((0,u.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/past/info?cycleId="+e,1)).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_SHARE_INFO",data:e.data})})}}function l(e,t){return function(){return(0,c["default"])((0,u.changeUrl)("http://t.c.m.163.com/uc/activity/card/gift/find?giftId="+encodeURIComponent(e)+"&cardId="+t,1)).then(function(e){return e.json()}).then(function(e){return e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchShareItemInfo=r,t.fetchShareInfo=o,t.fetchQueryCard=l;var i=a(27),c=n(i),u=a(6)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){return function(e){return(0,f["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/userinfo",1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_BASIC_INFO",data:t.data})})}}function o(){return function(e){return(0,f["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/info",1)).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_NOTLOGIN_INFO",data:t.data})})}}function l(e){return function(t){return t({type:"CHANGE_LOTTERY_STATUS",data:e})}}function i(e){return function(t){return(0,f["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/gift/send?cardId="+e,1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_CARD_INFO",data:e.data})})}}function c(e){return function(){return(0,f["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/prize/share?lotteryId="+e,1),{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return e})}}function u(e,t){var a="cardId="+t+"&giftId="+encodeURIComponent(e);return function(e){return(0,f["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/gift/receive",1),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:a}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_SHARE_CARD",data:t.data})})}}function s(e){return function(){return(0,f["default"])((0,m.changeUrl)("http://t.c.m.163.com/uc/activity/card/gift/send?cardId="+e,1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return e})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBasicInfo=r,t.fetchNotloginInfo=o,t.changeLotteryStatus=l,t.fetchCardInfo=i,t.sendLotteryId=c,t.receiveCardId=u,t.sendCard=s;var d=a(27),f=n(d),m=a(6)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(16),d=n(s),f=a(6),m=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.close=a.close.bind(a),a.present=a.present.bind(a),a.shareCard=a.shareCard.bind(a),a.giftId=null,a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.cardDialog.addEventListener("touchmove",function(e){(0,f.ePreventDefault)(e)},!1)}},{key:"componentWillUnmount",value:function(){this.cardDialog.removeEventListener("touchmove",function(e){(0,f.ePreventDefault)(e)},!1)}},{key:"close",value:function(){var e=this.props.data.changeCardStatus;e(!1)}},{key:"present",value:function(){var e=this,t=this.props.data,a=t.cardId,n=t.cycleId,r=t.cardLen,o=t.cardName,l=t.prizeName,i=t.cardImg,c=t.prizeId,u=t.changeCardStatus,s=t.sendCard,m=t.onOpenSD,p=t.now,h=t.endTime;if(p>h)return m("本期活动已结束"),null;u(!1);var y={};return s(a).then(function(t){e.giftId=t.data.giftId,y={wbText:"网易新闻，集卡赢大奖"+(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/shareCard?cycleId="+n+"&cardId="+a+"&cardLen="+r+"&prizeId="+c+"&giftId="+encodeURI(e.giftId)+"&",2),wbPhoto:i,wxText:"网易新闻，集卡赢大奖",wxTitle:o+"送给你，集齐可领取"+l+"，不用谢我，我只是个传说。",wxUrl:(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/shareCard?cycleId="+n+"&cardId="+a+"&cardLen="+r+"&prizeId="+c+"&giftId="+encodeURI(e.giftId)+"&",2),wxPhoto:i},d["default"].share.invoke(y,function(){m("好友领取后，卡片-1")})}),null}},{key:"shareCard",value:function(){var e=this.props.data,t="我得到了"+e.cardName+"，集齐可得"+e.prizeName+",一般人我不告诉TA",a={wbText:"网易新闻，集卡赢大奖"+(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=300&cycleId="+e.cycleId+"&cardId="+e.cardId+"&nowAmount="+e.cardType+"&cardLen="+e.cardLen,2),wbPhoto:e.cardImg,wxText:"网易新闻，集卡赢大奖",wxTitle:t,wxUrl:(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=300&cycleId="+e.cycleId+"&cardId="+e.cardId+"&nowAmount="+e.cardType+"&cardLen="+e.cardLen,2),wxPhoto:e.cardImg};d["default"].share.invoke(a,function(){})}},{key:"render",value:function(){var e=this,t=this.props.data,a={background:"url("+t.cardImg+") no-repeat center",backgroundSize:"100% 100%"};return u["default"].createElement("div",{className:"h-card-dialog",ref:function(t){e.cardDialog=t}},u["default"].createElement("div",{className:"dialog-inner"},u["default"].createElement("div",{className:"cover"},u["default"].createElement("div",{className:"cover-card-bg",style:a},!!t.cardAmount&&u["default"].createElement("div",{className:"share",onClick:this.shareCard},"晒卡"))),u["default"].createElement("footer",{className:"footer"},u["default"].createElement("div",{className:"info"},(0,f.erilizeText)(t.cardMark,28)),u["default"].createElement("div",{className:parseInt(t.cardAmount,10)>1?"btn justify-content1":"btn justify-content2"},u["default"].createElement("div",{className:"close",onClick:this.close},"关闭"),parseInt(t.cardAmount,10)>1&&u["default"].createElement("div",{className:"present",onClick:this.present},"送给朋友")))))}}]),t}(c.Component);t["default"]=m},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.isNotHomePage;if(t){var a=e.data,n=a.share,r={data:n.prize,isNotDisplay:t,sumAmount:n.cards.length},o={isNotHomePage:t,allCards:n.cards,prizeName:n.prize.name,endTime:n.cycleInfo.endTime};return l["default"].createElement("div",{className:"marquee-outer"},l["default"].createElement("div",{className:"cur-prize-container"},l["default"].createElement("div",{className:"inner"},l["default"].createElement(s["default"],{data:r}),l["default"].createElement(c["default"],{data:o}))))}var i=e.data,u=i.data,d=i.push,m=i.loginStatus,p=u.basic,h=u.notlogin,y=e.data,v=y.fetchBasicInfo,b=y.collCardStatus,g=y.curPrizeStatus,E=y.changeLotteryStatus,_=y.lotteryId,w=y.sendCard,I=y.sendCardInfo,N=y.sendLotteryId,C=y.sendLotteryIdErrCode,S=y.onOpenSD,T={fetchBasicInfo:v,push:d,collCardStatus:b,loginStatus:m,curPrizeStatus:g,lotteryId:_,sendLotteryId:N,sendLotteryIdErrCode:C,data:h.prize,IsNotDisplay:t,nowAmount:m?p.myCards.length:"",sumAmount:h.cards.length,cycleId:h.cycleInfo.id,prizeId:h.prize.id,shareYet:E},O={isNotHomePage:t,loginStatus:m,sendCard:w,sendCardInfo:I,onOpenSD:S,allCards:h.cards,now:h.now,prizeName:h.prize.name,myCards:m?p.myCards:"",endTime:h.cycleInfo.endTime,cycleId:h.cycleInfo.id,prizeId:h.prize.id};return l["default"].createElement("div",{className:"marquee-outer"},l["default"].createElement(f["default"],{subject:h.cycleInfo,now:h.now}),l["default"].createElement("div",{className:"cur-prize-container"},l["default"].createElement("div",{className:"inner"},l["default"].createElement(s["default"],{data:T}),l["default"].createElement(c["default"],{data:O}))))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=a(1),l=n(o),i=a(155),c=n(i),u=a(156),s=n(u),d=a(157),f=n(d);a(94),a(93)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c);a(95);var s=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleScroll=a.handleScroll.bind(a),a.state={scrollBtn:!1},a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props.data.parentComponent;"record"===e?(this.page=+sessionStorage.record||1,sessionStorage.removeItem("record")):"myCards"===e&&(this.page=+sessionStorage.myCards||1,sessionStorage.removeItem("myCards")),document.addEventListener("scroll",this.handleScroll,!1)}},{key:"componentWillUnmount",value:function(){var e=this.props.data.parentComponent;"record"===e?sessionStorage.setItem("record",this.page):"myCards"===e&&sessionStorage.setItem("myCards",this.page),document.removeEventListener("scroll",this.handleScroll,!1)}},{key:"handleScroll",value:function(){var e=this.props.data,t=document.documentElement.scrollHeight||document.body.scrollHeight,a=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.clientHeight||document.body.clientHeight;a+n+10>t&&!this.state.scrollBtn?(this.setState({scrollBtn:!0}),this.page++,e.getData(this.page,10)):a+n+100<t&&this.setState({scrollBtn:!1})}},{key:"render",value:function(){var e=this.props.data,t=void 0;return t=e.addData?"没有更多了":"正在加载",u["default"].createElement("div",null,this.state.scrollBtn&&u["default"].createElement("div",{className:"load-btn"},u["default"].createElement("div",{className:"logo"}),u["default"].createElement("div",{className:"text"},t)))}}]),t}(c.Component);t["default"]=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c);a(95);var s=a(6),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e="http://m.163.com/newsapp/applinks.html?url="+(0,s.changeUrl)("http://t.c.m.163.com/uncharted/index.html",2);return u["default"].createElement("a",{className:"share-banner",href:e},u["default"].createElement("div",{className:"banner-inner"},u["default"].createElement("div",{className:"banner-l"}),u["default"].createElement("div",{className:"banner-r"},"立即打开 >")))}}]),t}(c.Component);t["default"]=d},function(e,t){"use strict";function a(e){var t={},a=e.img,n=window.location.href,r=e.content,o=e.title;t={imgurl:a,shareUrl:n,summary:r,title:o},document.addEventListener("WeixinJSBridgeReady",function(){window.WeixinJSBridge.on("menu:share:appmessage",function(){window.WeixinJSBridge.invoke("sendAppMessage",{img_url:t.imgurl,link:t.shareUrl,desc:t.summary,title:t.title},function(){window.neteaseTracker&&window.neteaseTracker(!1,t.shareCallbackUrl+"&spsf=wx","","sps")})}),window.WeixinJSBridge.on("menu:share:timeline",function(){window.WeixinJSBridge.invoke("shareTimeline",{img_url:t.imgurl,img_width:"200",img_height:"200",link:t.shareUrl,desc:t.summary,title:t.title},function(){window.neteaseTracker&&window.neteaseTracker(!1,t.shareCallbackUrl+"&spsf=wx","","sps")})})}),document.addEventListener("YixinJSBridgeReady",function(){window.YixinJSBridge.on("menu:share:appmessage",function(){window.YixinJSBridge.invoke("sendAppMessage",{img_url:t.imgurl,link:t.shareUrl,desc:t.summary,title:t.title},function(){window.neteaseTracker&&window.neteaseTracker(!1,t.shareCallbackUrl+"&spsf=yx","","sps")})}),window.YixinJSBridge.on("menu:share:timeline",function(){window.YixinJSBridge.invoke("shareTimeline",{img_url:t.imgurl,img_width:"200",img_height:"200",link:t.shareUrl,desc:t.summary,title:t.title},function(){window.neteaseTracker&&window.neteaseTracker(!1,t.shareCallbackUrl+"&spsf=yx","","sps")})})})}Object.defineProperty(t,"__esModule",{value:!0}),t.secondShareInit=a},,function(e,t){e.exports={iosx2:"_2Ov9f9Kkor_0-inI1M7-Q4",iosx3:"_3hq5FQhqQptYXQ2wSBjyrv"}},function(e,t){e.exports={iosx2:"_3M_Kwth4ptScmddBZldbMo",iosx3:"_21qohGXK2I6Jnuti9cogFO"}},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var a=encodeURI("prizeId="+e.prizeId+"&cycleId="+e.cycleId+"&lotteryId="+e.lotteryId+"&address="+t.address+"&name="+t.username+"&phone="+t.tele+"&udid="+t.udid);return function(e){return(0,i["default"])((0,c.changeUrl)("http://t.c.m.163.com/uc/activity/card/prize/exchange",1),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},credentials:"include",body:a}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_EXPIRY_PARAMS",data:t})})}}function o(){return function(e){return(0,i["default"])((0,c.changeUrl)("http://t.c.m.163.com/uc/activity/card/exchange/userinfo",1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(t){e({type:"FETCH_BASIC_INFO",data:t.data})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchExpiryParams=r,t.fetchBasicInfo=o;var l=a(27),i=n(l),c=a(6)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?10:arguments[1];return function(a){return(0,l["default"])((0,i.changeUrl)("http://t.c.m.163.com/uc/activity/card/list?page="+e+"&pageSize="+t,1),{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){a({type:"FETCH_MYCARDS_INFO",data:e.data})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchMycardsInfo=r;var o=a(27),l=n(o),i=a(6)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?10:arguments[1];return function(a){return(0,l["default"])((0,i.changeUrl)("http://t.c.m.163.com/uc/activity/card/prize/list?page="+e+"&pageSize="+t,1)).then(function(e){return e.json()}).then(function(e){a({type:"FETCH_RECORD_INFO",data:e.data})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRecordInfo=r;var o=a(27),l=n(o),i=a(6)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(6),d=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.intervals=[],a.handleClick=a.handleClick.bind(a),a.scrollUp=a.scrollUp.bind(a),a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.area,a=this.refs.box1,n=this.refs.cli1.clientHeight;this.intervalToken=setInterval(function(){e.scrollUp(t,a,n)},50)}},{key:"componentWillUnmount",value:function(){return clearInterval(this.intervalToken),!0}},{key:"handleClick",value:function(){window.location="newsapp://subject/SJ07092985555724594961"}},{key:"scrollUp",value:function(e,t,a){var n=this;e.scrollTop>=t.scrollHeight?e.scrollTop=0:(e.scrollTop%a===0&&setTimeout(function(){n.speed=0,setTimeout(function(){n.speed=1},1e3)},0),e.scrollTop=e.scrollTop+this.speed)}},{key:"render",value:function(){var e=this.props.data;return u["default"].createElement("div",{className:"h-carousel",ref:"area"},u["default"].createElement("div",{className:"carouselbox1",onClick:this.handleClick,ref:"box1"},e.map(function(e,t){return u["default"].createElement("div",{className:"awardInfo",key:t,ref:"cli"+t},(0,s.erilizeText)(e.passport+"刚刚得到一张"+e.name,40))})),u["default"].createElement("div",{className:"carouselbox2",ref:"box2"},e.map(function(e,t){return u["default"].createElement("div",{className:"awardInfo",key:t},e.passport+"刚刚得到一张"+e.name)})))}}]),t}(c.Component);t["default"]=d},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(87),d=n(s),f=a(6),m=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.introCards=a.introCards.bind(a),a.changeCardStatus=a.changeCardStatus.bind(a),a.state={boolCardDialog:!1,sendCardDom:!1},a.cardParams={cardAmount:0,cardImg:null,cardMark:null,cardName:null,cardId:null},a}return l(t,e),i(t,[{key:"changeCardStatus",value:function(e){this.setState({boolCardDialog:e})}},{key:"introCards",value:function(e,t,a,n,r){this.setState({boolCardDialog:!0,sendCardDom:!0}),this.cardParams={cardAmount:e,cardImg:t,cardMark:a,cardName:n,cardId:r}}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.allCards,n=t.now,r=t.myCards,o=t.prizeName,l=t.cycleId,i=t.sendCard,c=t.sendCardInfo,s=t.isNotHomePage,m=t.loginStatus,p=t.onOpenSD,h=t.endTime,y=a.length%3,v="";1===y?v="morediv1":2===y&&(v="morediv2");var b=void 0;r&&(b=(0,f.compareCards)(a,r));var g=null;if(this.state.boolCardDialog){var E=this.cardParams,_=E.cardId,w=E.cardAmount,I=E.cardImg,N=E.cardName,C=E.cardMark;g={cardAmount:w,cardId:_,cardLen:y,cardImg:I,cardName:N,cardMark:C,prizeName:o,endTime:h,now:n,cycleId:l,sendCard:i,sendCardInfo:c,onOpenSD:p,cardType:r.length,changeCardStatus:this.changeCardStatus}}return u["default"].createElement("ul",{className:"coll-cards-ls"},this.state.boolCardDialog&&u["default"].createElement(d["default"],{data:g}),(b||a).map(function(t,a){var n=parseInt(t.amount,10),r=void 0;r=n>99?"99+":t.amount;var o={background:"url("+t.smallImage+") no-repeat center",backgroundSize:"100% 100%"};return u["default"].createElement("li",{className:"card-li",key:a,onClick:s?"":function(){e.introCards(t.amount,t.image,t.mark,t.name,t.id)}},u["default"].createElement("div",{className:"li-img"},u["default"].createElement("div",{className:"img-bg",style:o}),m===!0&&!t.amount==!0&&u["default"].createElement("div",{className:"card-shade"}),!!t.amount&&u["default"].createElement("span",{className:"card-sum"},"X"+r),!!t.amount&&u["default"].createElement("span",{className:"card-logo",style:{display:t.amount>1?"":"none"}},"送")),2===n&&u["default"].createElement("div",{className:"img-shade-container"},u["default"].createElement("div",{className:"img-shade1",style:o})),n>2&&u["default"].createElement("div",{className:"img-shade-container"},u["default"].createElement("div",{className:"img-shade1",style:o}),u["default"].createElement("div",{className:"img-shade2",style:o})))}),1===y||2===y&&u["default"].createElement("div",{className:v}))}}]),t}(c.Component);t["default"]=m},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(16),d=n(s),f=a(6),m=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleShare=a.handleShare.bind(a),a.handleLogin=a.handleLogin.bind(a),a.handleParticipate=a.handleParticipate.bind(a),a.handleToGetPrize=a.handleToGetPrize.bind(a),a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data,a=t.nowAmount,n=t.sumAmount;setTimeout(function(){var t=e.props.data,r=t.data,o=t.cycleId,l="我还差"+(n-a)+"张卡,集齐可得"+r.name+"，私聊我,咱俩互换吧！";n===a?l="我参加网易新闻集卡活动，获得了"+r.name+"。人品大爆发啊~":0===a&&(l="我发现了个好玩的活动，集齐"+n+"张卡可得"+r.name+"，一般人我不告诉ta"),d["default"].ui.button("分享",function(){var e={wbText:"网易新闻,集卡赢大奖啦"+(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=100&cycleId="+o+"&nowAmount="+a+"&cardLen="+n,2),wbPhoto:""+r.image,wxText:"网易新闻,集卡赢大奖啦",wxTitle:l,wxUrl:(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=100&cycleId="+o+"&nowAmount="+a+"&cardLen="+n,2),wxPhoto:""+r.image};d["default"].share.invoke(e,function(){return null})})},500)}},{key:"handleShare",value:function(){var e=this.props.data,t=e.push,a=e.cycleId,n=e.prizeId,r=e.lotteryId,o=e.data,l=e.nowAmount,i=e.sendLotteryId,c=e.sendLotteryIdErrCode,u={wbText:"网易新闻,集卡赢大奖啦"+(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus="+this.state.winnStatus+"&cardAmount="+l+"&cycleId="+a,2),wbPhoto:""+o.image,wxText:"网易新闻,集卡赢大奖啦",wxTitle:"我参加网易新闻集卡活动，获得了"+o.name+"。人品大爆发啊~",wxUrl:(0,f.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=200&cardAmount="+l+"&cycleId="+a,2),wxPhoto:""+o.image};d["default"].share.invoke(u,function(){i(r).then(function(){var e=parseInt(c,10);0===e?t("/expiry?prizeId="+n+"&cycleId="+a+"&lotteryId="+r):400===e?alert("请在登陆后领奖"):412===e?(alert("服务器繁忙"),console.log("参数错误")):1===e?(alert("服务器繁忙"),console.log("服务器内部错误")):alert("服务器繁忙")})})}},{key:"handleParticipate",value:function(){d["default"].device(function(e){Math.floor(parseInt(e.v,10))<16?alert("升级到最新版才能参加活动"):window.location.href="pushview://settings"})}},{key:"handleLogin",value:function(){var e=this,t=this.props.data.fetchBasicInfo;d["default"].login(!0,function(a){t(),e.setState({loginStatus:!!a})})}},{key:"handleToGetPrize",value:function(){var e=this.props.data,t=e.push,a=e.cycleId,n=e.prizeId,r=e.lotteryId;t("/expiry?prizeId="+n+"&cycleId="+a+"&lotteryId="+r)}},{key:"render",value:function(){var e=this.props.data,t=e.data,a=e.collCardStatus,n=e.curPrizeStatus,r=e.nowAmount,o=e.sumAmount,l=e.isNotDisplay,i="",c="",s="prize-btn",d="";if(a)2===n?(i=null,c="已领取",s+=" btn-bgc3"):1===n?(i=this.handleToGetPrize,c="点击领取",s+=" btn-bgc2"):0===n?(i=this.handleShare,c="分享后领取("+r+"/"+o+")",s+=" btn-bgc2"):n===-1?(i=null,c="已失效",s+=" btn-bgc1"):r!==o?(i=null,c="集齐可领取("+r+"/"+o+")",s+=" btn-bgc1"):(i=null,c="未知状态");else{i=this.handleParticipate,c="立即参与",s+=" btn-bgc3",d="您已关闭此功能";var m=navigator.userAgent;Math.floor(+m.split("NewsApp/",3)[1])<16&&(d="当前版本过低")}var p=t.image,h={background:"url("+p+") no-repeat center",backgroundSize:"100% 100%"};return u["default"].createElement("div",{className:"cur-prize"},u["default"].createElement("div",{className:"cur-prize-img"},u["default"].createElement("div",{className:"prizeImgBg",style:h})),u["default"].createElement("div",{className:"r-prize"},u["default"].createElement("label",{className:"prize-label-text"},"本期奖品"),u["default"].createElement("span",{className:"prize-info"},(0,f.erilizeText)(t.name,7)),!l&&u["default"].createElement("span",{className:"prize-status"},d),!l&&u["default"].createElement("div",{className:s,onClick:i},c)))}}]),t}(c.Component);t["default"]=m},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(6),d=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.countDown=a.countDown.bind(a),a.openTime=a.openTime.bind(a),a.state={timeStyle:!1,cdTime:""},a}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.openTime();
}},{key:"componentWillUnmount",value:function(){clearInterval(this.handleInterval)}},{key:"countDown",value:function(e){var t=new Date(this.props.now).getTime();if(t>e)return"00:00";var a=e/1e3,n=Math.round(t/1e3),r=a-n,o=Math.floor(r/86400),l=Math.floor((r-3600*o*24)/3600),i=Math.floor((r-3600*o*24-3600*l)/60);return l=l<10?"0"+l:l,i=i<10?"0"+i:i,o>=1?(this.setState({timeStyle:!0}),""+o):(this.setState({timeStyle:!1}),l+":"+i)}},{key:"openTime",value:function(){var e=this;this.setState({cdTime:this.countDown(this.props.subject.endTime)}),this.handleInterval=setInterval(function(){e.setState({cdTime:e.countDown(e.props.subject.endTime)})},6e4)}},{key:"render",value:function(){var e=this.props.subject;return u["default"].createElement("header",{className:"title-img"},u["default"].createElement("div",{className:this.state.timeStyle?"cd cd-daystyle":"cd cd-hourstyle"},u["default"].createElement("div",{className:this.state.timeStyle?"cd-in cd-daystyle-in":"cd-in cd-hourstyle-in"},u["default"].createElement("div",{className:"cd-l"},"倒计时"),u["default"].createElement("div",{className:this.state.timeStyle?"cd-r cd-r-daystyle-in":"cd-r cd-r-hourstyle-in"},this.state.cdTime,this.state.timeStyle&&u["default"].createElement("span",{className:"cd-unit"},"天")))),u["default"].createElement("div",{className:"title-text"},(0,s.erilizeText)(e.theme+"主题",10)+" 时限 "+(0,s.limitTime)(e.beginTime,e.endTime)))}}]),t}(c.Component);t["default"]=d},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(40),d=n(s),f=a(6),m=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.finalCards=null,a}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props.data,t=0,a=(0,f.compareCards)(this.props.data[0].cards,this.props.data[0].myCards);a.map(function(e){return e.amount&&(t+=e.amount),!0});var n="coll-cardsls",r="coll-cardsli";return e[0].cards.length>=6&&(n+=" space-between",r+=" margin0"),u["default"].createElement("div",{className:"coll-cards-container"},u["default"].createElement(d["default"],{text:"我的集卡记录",showMore:e.length>1?"查看全部 >":"",link:e.length>1?"/mycards?":""}),u["default"].createElement("div",{className:"collect-cards"},u["default"].createElement("div",null,(0,f.erilizeText)(e[0].cycleInfo.theme,8)),u["default"].createElement("div",null,"共"+t+"张")),u["default"].createElement("ul",{className:n},a.map(function(e,a){var n={background:"url("+e.smallImage+") no-repeat center",backgroundSize:"100% 100%"},o="X"+e.amount;return t>99&&(o="99+"),a<=5?u["default"].createElement("li",{className:r,key:a},u["default"].createElement("div",{style:n,className:"coll-cardsbg"}),!e.amount&&u["default"].createElement("div",{className:"card-shade"}),e.amount&&u["default"].createElement("span",{className:"card-desc"},o)):null})))}}]),t}(c.Component);t["default"]=m},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(40),d=n(s),f=a(16),m=n(f),p=a(6),h=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleShare=a.handleShare.bind(a),a.getPrize=a.getPrize.bind(a),a}return l(t,e),i(t,[{key:"getPrize",value:function(e,t,a){var n=this.props.data.push;n("/expiry?prizeId="+e+"&cycleId="+a+"&lotteryId="+t)}},{key:"handleShare",value:function(e,t,a){var n=this,r=this.props.data,o=r.push,l=r.changeLotteryStatus,i=r.data,c=r.cycleId,u=void 0,s=void 0,d=void 0,f={lotteryId:t,status:1};i.lotteryPrizes.map(function(e){return e.cycleInfo.id===a&&(u=e.prize.image,s=e.prize.name,d=e.prize.cardIds.length),!0});var h={wbText:"网易新闻,集卡赢大奖啦"+(0,p.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=200&cycleId="+c+"&cardAmount="+d,2),wbPhoto:""+u,wxText:"网易新闻,集卡赢大奖啦",wxTitle:"我参加网易新闻集卡活动，获得了"+s+"。人品大爆发啊~",wxUrl:(0,p.changeUrl)("http://t.c.m.163.com/uncharted/index.html#/share?winnStatus=200&cycleId="+c+"&cardAmount="+d,2),wxPhoto:""+u};m["default"].share.invoke(h,function(){m["default"].login(),n.props.data.sendLotteryId(t).then(function(n){var r=parseInt(n.errcode,10);0===r?(l(f),o("/expiry?prizeId="+e+"&cycleId="+a+"&lotteryId="+t)):400===r?alert("请在登陆后领奖"):412===r?alert("参数错误"):1===r&&alert("服务器繁忙")})})}},{key:"render",value:function(){var e=this,t=this.props.data.data,a=new Date;return u["default"].createElement("div",{className:"winn-record"},u["default"].createElement(d["default"],{text:"我的获奖记录"}),u["default"].createElement("ul",{className:"winn-recordls"},t.lotteryPrizes.map(function(t,n){var r=(t.cycleInfo.endTime+6048e5-a.getTime())/864e5,o="",l="",i="",c=null;0===t.lotteryInfo.status?c=function(){e.handleShare(t.prize.id,t.lotteryInfo.id,t.cycleInfo.id)}:1===t.lotteryInfo.status&&(c=function(){e.getPrize(t.prize.id,t.lotteryInfo.id,t.cycleInfo.id)});var s={background:"url("+t.prize.image+") no-repeat center",backgroundSize:"1.08rem 1.05rem"};switch(t.lotteryInfo.status){case 0:o="winn-li-r btn-style-0",l="分享后领取",i=r>1?"请在"+Math.floor(r)+"天内领取，过期作废":r>=0?"请在"+Math.floor(24*r)+"小时内领取，过期作废":"已过期";break;case 1:o="winn-li-r btn-style-1",l="点击领取",i=r>1?"请在"+Math.floor(r)+"天内领取，过期作废":r>=0?"请在"+Math.floor(24*r)+"小时内领取，过期作废":"已过期";break;case 2:o="winn-li-r btn-style-2",i="已领取",l="已领取";break;case-1:o="winn-li-r btn-style-3",i="已过期",l="已过期"}return u["default"].createElement("li",{className:"winn-li",key:n},u["default"].createElement("div",{className:"winn-li-l"},u["default"].createElement("div",{className:"prize-img",style:s})),u["default"].createElement("div",{className:"winn-li-cen"},u["default"].createElement("div",{className:"prize-name"},(0,p.erilizeText)(t.prize.name,9)),u["default"].createElement("div",{className:"prize-date"},"主题: "+t.cycleInfo.theme),u["default"].createElement("div",{className:"prize-limit"},u["default"].createElement("span",{className:"limit-time"},i))),u["default"].createElement("div",{className:o,onClick:c},l))})))}}]),t}(c.Component);t["default"]=h},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c);a(180);var s=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.close=a.close.bind(a),a}return l(t,e),i(t,[{key:"close",value:function(){this.props.noCardToGet()}},{key:"render",value:function(){return u["default"].createElement("div",{className:"no-card-container"},u["default"].createElement("div",{className:"n-c-inner"},u["default"].createElement("div",{className:"top"},u["default"].createElement("div",{className:"logo"}),u["default"].createElement("div",{className:"close",onClick:this.close})),u["default"].createElement("div",{className:"bottom"},u["default"].createElement("div",{className:"warn"},"领取失败"),u["default"].createElement("div",{className:"desc"},"卡片已经被别人领取"))))}}]),t}(c.Component);t["default"]=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c),s=a(40),d=n(s),f=a(6),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props.data;return u["default"].createElement("div",{className:"pari-record"},u["default"].createElement(d["default"],{text:"往期获奖用户",showMore:"查看全部>",link:"/record"}),u["default"].createElement("ul",{className:"pari-recordls"},e.lotteryPrizes.map(function(e,t){if(t>=2)return!0;var a={background:"url("+e.prize.image+") no-repeat center",backgroundSize:"1.08rem 1.05rem"},n={background:"url("+e.lotteryInfo.head+") no-repeat center",backgroundSize:"100% 100%",zIndex:10};return u["default"].createElement("li",{className:"pari-li",key:t},u["default"].createElement("div",{className:"pari-li-l"},u["default"].createElement("div",{className:"pari-logo"},u["default"].createElement("div",{className:"logo-header",style:n})),u["default"].createElement("div",{className:"pari-li-l-r"},u["default"].createElement("div",{className:"pari-prize"},(0,f.erilizeText)(e.cycleInfo.theme,8)+"主题 ",(0,f.erilizeText)(e.prize.name,10)),u["default"].createElement("div",{className:"pari-user"},e.lotteryInfo.passport))),u["default"].createElement("div",{className:"pari-li-r"},u["default"].createElement("div",{style:a,className:"past-prizebg"})))})))}}]),t}(c.Component);t["default"]=m},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){return l["default"].createElement("div",{className:"homeAboutRule"},l["default"].createElement(c["default"],{text:"详细规则"}),l["default"].createElement("div",{className:"rules-qa"},l["default"].createElement("div",null,"Q：怎样才能获取到卡片？"),l["default"].createElement("div",null,"A：在「头条」栏目阅读新闻然后刷新，就有机会获取到卡片。下拉刷新、点击左下角“新闻”刷新、点击“点击刷新 有机会集卡赢奖哦”都可以的。只是频繁刷新就没有卡片了哦~ ")),l["default"].createElement("div",{className:"rules-qa"},l["default"].createElement("div",null,"Q：如何领取奖品？"),l["default"].createElement("div",null,"A：集齐卡片后，点击“分享后领奖”，分享之后要点击“返回应用”，返回网易新闻后则可以填写领奖信息，领取奖品。")),l["default"].createElement("div",{className:"rules-qa"},l["default"].createElement("div",null,"Q：如何赠送卡片给好友？"),l["default"].createElement("div",null,"A：当某卡片的数量大于等于2张时，点击卡片上的“送给朋友”，则可以赠送给微信、微博好友等，好友通过您的赠送页面，返回网易新闻时就可以领取到您送出的卡片。当一个好友领取到您的卡片后，您的该卡片数量会减1，好友的该卡片数量会加1。每赠送一次，只有一个好友能领取到您赠送的卡片。")),l["default"].createElement("ul",{className:"rules-step"},l["default"].createElement("h3",{className:"rules-step-title"},"活动详情"),l["default"].createElement("li",null,"1. 本次活动奖品由vivo智能手机提供，集齐本期卡片可获取一台1600万柔光自拍的vivo X7手机；"),l["default"].createElement("li",null,"2. 请认真核对姓名、电话和邮寄地址等物流信息。如果填写错误，奖品可能就无法给您寄出了；"),l["default"].createElement("li",null,"3. 奖品会在每期活动结束后7个工作日内寄出。如有问题，可以发邮件至vivojika2016@163.com；"),l["default"].createElement("li",null,"4. 港、澳、台、藏区、海外等地区，因快递无法寄送，如领奖请联系客服，需要自付邮费哦；"),l["default"].createElement("li",null,"5. 本次活动奖品均不可替换成现金，也不提供发票，无退货、换货服务；"),l["default"].createElement("li",null,"6. 活动主办方、解释权为网易新闻。活动所有奖品均和苹果公司无关。")))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=a(1),l=n(o),i=a(40),c=n(i)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(1),u=n(c);a(185);var s=a(6),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.systemDialog.addEventListener("touchmove",function(e){(0,s.ePreventDefault)(e)},!1)}},{key:"componentWillUnmount",value:function(){this.systemDialog.removeEventListener("touchmove",function(e){(0,s.ePreventDefault)(e)},!1)}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.onCloseSD,n=t.desc;return u["default"].createElement("div",{className:"system-dialog-container",ref:function(t){e.systemDialog=t}},u["default"].createElement("div",{className:"system-dialog"},u["default"].createElement("div",{className:"sd-top"},n),u["default"].createElement("div",{className:"sd-bottom",onClick:a},"确定")))}}]),t}(c.Component);t["default"]=d},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=r(u),d=a(19),f=a(151),m=n(f),p=a(86),h=a(6),y=a(16),v=r(y);a(177);var b=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a.cancel=a.cancel.bind(a),a.submit=a.submit.bind(a),a.state={warnDisplay:!1,displayInfo:!1},a.params=null,a}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;v["default"].device(function(t){e.userInfo.udid=t.u}),this.params=(0,h.erilizeUrl)(window.location.href),this.tele.addEventListener("blur",function(){var t=/^1[3|4|5|7|8][0-9]{9}$/,a=t.test(e.tele.value);a===!1&&alert("手机号码格式错误")},!1)}},{key:"componentWillUnmount",value:function(){}},{key:"handleClick",value:function(){return 0===this.username.value.length||0===this.tele.value.length||0===this.address.value.length?void alert("请输入完整的个人信息!"):(this.setState({warnDisplay:!0}),void(this.userInfo={username:this.username.value,tele:this.tele.value,address:this.address.value}))}},{key:"cancel",value:function(){this.setState({warnDisplay:!1})}},{key:"submit",value:function(){var e=this,t=this.userInfo,a=t.username,n=t.tele,r=t.address,o=t.udid,l={address:r,username:a,tele:n,udid:o},i=new XMLHttpRequest,c=null;i.open("post","http://t.c.m.163.com/uc/activity/card/prize/exchange",!0),i.send(null),i.onreadystatechange=function(){4===+i.readyState&&(i.status>=200&&i.status<300||304===+i.status?c=!0:(alert("当前网络不稳定,请稍后再试"),c=!1))},setTimeout(function(){return c?(e.props.fetchExpiryParams(e.params,l).then(function(){var t=e.props.data.expiryParams.errcode;switch(t){case 0:e.setState({warnDisplay:!1,displayInfo:!0}),(0,p.fetchBasicInfo)();break;case 1:e.cancel(),alert("领奖失败，请稍后再试");break;case 400:e.cancel(),alert("服务器繁忙,请稍后再试");break;case 415:e.cancel(),alert("奖品已过期");break;case 416:e.cancel(),alert("奖品条件不满足");break;case 417:e.cancel(),alert("领奖失败，请稍后再试");break;default:return}}),null):(e.cancel(),!1)},500)}},{key:"render",value:function(){var e=this;return s["default"].createElement("div",{className:"expiry-container"},!this.state.displayInfo&&s["default"].createElement("div",{className:"expiry"},s["default"].createElement("header",{className:"exp-header"},s["default"].createElement("div",{className:"dot"}),s["default"].createElement("div",{className:"info"},"为了让客服及时联系您，请填写个人信息")),s["default"].createElement("section",{className:"exp-section"},s["default"].createElement("article",{className:"form-item"},s["default"].createElement("div",{className:"label"},"姓名："),s["default"].createElement("div",{className:"input"},s["default"].createElement("input",{type:"text",ref:function(t){e.username=t}}))),s["default"].createElement("article",{className:"form-item"},s["default"].createElement("div",{className:"label"},"手机："),s["default"].createElement("div",{className:"input"},s["default"].createElement("input",{type:"tel",ref:function(t){e.tele=t}}))),s["default"].createElement("article",{className:"form-item"},s["default"].createElement("div",{className:"label"},"住址："),s["default"].createElement("div",{className:"input"},s["default"].createElement("input",{type:"text",ref:function(t){e.address=t}})))),s["default"].createElement("footer",{className:"exp-footer"},s["default"].createElement("div",{className:"btn",onClick:this.handleClick},"立即提交"))),this.state.warnDisplay&&s["default"].createElement("div",{className:"exp-warnInfo"},s["default"].createElement("div",{className:"inner"},s["default"].createElement("header",{className:"header"},"确认信息"),s["default"].createElement("section",{className:"content"},s["default"].createElement("div",{className:"item-info"},s["default"].createElement("span",null,"姓名："),s["default"].createElement("span",null,this.state.username)),s["default"].createElement("div",{className:"item-info"},s["default"].createElement("span",null,"手机："),s["default"].createElement("span",null,this.state.tele)),s["default"].createElement("div",{className:"item-info"},s["default"].createElement("span",null,"住址："),s["default"].createElement("span",null,this.state.address))),s["default"].createElement("footer",{className:"footer"},s["default"].createElement("div",{className:"cancel",onClick:this.cancel},"取消"),s["default"].createElement("div",{className:"submit",onClick:this.submit},"确认")))),this.state.displayInfo&&s["default"].createElement("div",{className:"exp-displayInfo"},s["default"].createElement("header",{className:"header"},s["default"].createElement("div",{className:"img"})),s["default"].createElement("section",{className:"center"},s["default"].createElement("div",{className:"li"},s["default"].createElement("span",{className:"tag"},"姓名："),s["default"].createElement("span",{className:"info"},this.state.username)),s["default"].createElement("div",{className:"li"},s["default"].createElement("span",{className:"tag"},"电话："),s["default"].createElement("span",{className:"info"},this.state.tele)),s["default"].createElement("div",{className:"li"},s["default"].createElement("span",{className:"tag"},"地址："),s["default"].createElement("span",{className:"info"},this.state.address))),s["default"].createElement("footer",{className:"footer"},s["default"].createElement("div",{className:"useforuser"},s["default"].createElement("div",{className:"logo"}),s["default"].createElement("div",{className:"prompt"},"我们将在每期活动结束后的7个工作日内为您寄出奖品，有问题请发邮件至vivojika2016@163.com")))))}}]),t}(u.Component);t["default"]=(0,d.connect)(function(e){return{data:e.expiry}},m)(b)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=r(u),d=a(34),f=a(19),m=a(41),p=a(86),h=n(p),y=a(55);a(94),a(93);var v=a(88),b=r(v),g=a(154),E=r(g),_=a(159),w=r(_),I=a(161),N=r(I),C=a(158),S=r(C),T=a(162),O=r(T),k=a(87),P=r(k),j=a(160),x=r(j),z=a(163),M=r(z),D=a(16),A=r(D),U=a(6),R=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.intervals=[],a.judgeHlcStatus=a.judgeHlcStatus.bind(a),a.judgeEdition=a.judgeEdition.bind(a),a.getCardStatus=a.getCardStatus.bind(a),a.getData=a.getData.bind(a),a.noCardToGet=a.noCardToGet.bind(a),a.closeSD=a.closeSD.bind(a),a.openSD=a.openSD.bind(a),a.params=(0,U.erilizeUrl)(location.href),a.cardImg=null,a.cardName=null,a.cardMark=null,a.state={loginStatus:!1,isNotHomePage:!1,collCardStatus:!1,needToUpdate:!1,cardStatus:!1,noCard:!1,openSystemDialog:!1},a}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,+sessionStorage.homeHeight||0),sessionStorage.removeItem("homeHeight"),A["default"].ui.title("头条集卡兑大奖"),A["default"].login(!0,function(t){t&&(e.params.getCard?e.props.fetchQueryCard(e.params.giftId,e.params.cardId).then(function(t){t.data&&t.data.valid?(e.setState({cardStatus:!!e.params.getCard}),e.props.actions.receiveCardId(e.params.giftId,e.params.cardId).then(function(){e.getData()})):(e.noCardToGet(),e.getData())}):e.getData(),e.judgeEdition())}),window.__headlineCard_open=function(){e.judgeHlcStatus()},setTimeout(function(){window.history.replaceState([],"","index.html?visit=1&")},500)}},{key:"componentWillUnmount",value:function(){(0,U.sessionStorageHeight)("homeHeight")}},{key:"getCardStatus",value:function(){this.setState({cardStatus:!this.state.cardStatus})}},{key:"getData",value:function(){this.props.actions.fetchNotloginInfo(),this.props.actions.fetchBasicInfo(),this.setState({loginStatus:!0})}},{key:"judgeEdition",value:function(){var e=this;A["default"].device(function(t){Math.floor(parseInt(t.v,10))<16?1!==+e.params.visit&&e.openSD("请升级到最新版网易新闻参与活动"):e.judgeHlcStatus()})}},{key:"judgeHlcStatus",value:function(){var e=this;A["default"].settings(function(t){e.setState({collCardStatus:t.headlineCard})})}},{key:"noCardToGet",value:function(){this.setState({noCard:!this.state.noCard,cardStatus:!1})}},{key:"openSD",value:function(e){this.setState({openSystemDialog:!0,systemDialogDesc:e})}},{key:"closeSD",value:function(){this.setState({openSystemDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.history,r=a.basic,o=a.notlogin;if(!o)return null;if(this.params.getCard&&o.cards.map(function(t){return t.id===parseInt(e.params.cardId,10)&&(e.cardImg=t.image,e.cardName=t.name,e.cardMark=t.mark),null}),!r)return null;if(r&&!r.lotteryCards)return this.props.actions.fetchBasicInfo(),null;for(var l=o.cycleInfo.id,i=void 0,c=0;c<r.lotteryPrizes.length;c++){var u=r.lotteryPrizes[c];if(u.cycleInfo.id===l){i=u.lotteryInfo.status;break}}var d=0;r.myCards.map(function(t){return t.cardId===+e.params.cardId&&(d=t.amount),!0});var f={onCloseSD:this.closeSD,desc:this.state.systemDialogDesc},m={cardType:r.myCards.length,cardAmount:d,cardId:this.params.cardId,cardLen:o.cards.length,cardImg:this.cardImg,prizeName:o.prize.name,cardName:this.cardName,cardMark:this.cardMark,changeCardStatus:this.getCardStatus,cycleId:o.cycleInfo.id,endTime:o.cycleInfo.endTime,sendCard:this.props.actions.sendCard,sendCardInfo:a.sendCardInfo,onOpenSD:this.openSD},p={data:a,curPrizeStatus:i,isNotHomePage:this.state.isNotHomePage,loginStatus:this.state.loginStatus,push:n.push,collCardStatus:this.state.collCardStatus,sendLotteryId:this.props.actions.sendLotteryId,lotteryId:0!==r.lotteryPrizes.length?r.lotteryPrizes[0].lotteryInfo.id:null,sendLotteryIdErrCode:this.props.data.sendLotteryId?this.props.data.sendLotteryId.errcode:null,sendCard:this.props.actions.sendCard,sendCardInfo:a.sendCardInfo,onOpenSD:this.openSD},h={data:r,push:n.push,changeLotteryStatus:this.props.actions.changeLotteryStatus,cycleId:o.cycleInfo.id,sendLotteryId:this.props.actions.sendLotteryId,sendLotteryIdErrCode:this.props.data.sendLotteryId?this.props.data.sendLotteryId.errcode:null};return s["default"].createElement("div",{className:"h-main-container"},this.state.openSystemDialog&&s["default"].createElement(M["default"],{data:f}),!!this.state.cardStatus&&s["default"].createElement(P["default"],{data:m}),this.state.noCard&&s["default"].createElement(x["default"],{noCardToGet:this.noCardToGet}),s["default"].createElement(b["default"],{data:p}),s["default"].createElement(E["default"],{data:o.carousel}),s["default"].createElement("div",{className:"list-change-style"},!!r.lotteryPrizes&&0!==r.lotteryPrizes.length&&s["default"].createElement(w["default"],{data:h}),!!o&&0!==o.lotteryPrizes.length&&s["default"].createElement(N["default"],{data:o})),!!r.lotteryCards[0]&&r.lotteryCards.length>0&&s["default"].createElement(S["default"],{data:r.lotteryCards}),s["default"].createElement(O["default"],null))}}]),t}(u.Component);t["default"]=(0,f.connect)(function(e){return{data:e.home,shareItem:e.shareItem}},function(e){return{actions:(0,d.bindActionCreators)(h,e),push:(0,d.bindActionCreators)(m.push,e),fetchQueryCard:(0,d.bindActionCreators)(y.fetchQueryCard,e)}})(R)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=r(u),d=a(19),f=a(152),m=n(f),p=a(89),h=r(p),y=a(6),v=a(16),b=r(v);a(179),a(182);var g=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={page:1,scrollBtn:!1},a}return i(t,e),c(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,+sessionStorage.myCardsHeight),sessionStorage.removeItem("myCardsHeight"),b["default"].ui.title("我的集卡"),this.props.data.mycards||this.props.fetchMycardsInfo()}},{key:"componentWillUnmount",value:function(){(0,y.sessionStorageHeight)("myCardsHeight")}},{key:"render",value:function(){var e=this.props.data,t=e.mycards;if(!t)return null;var a={page:1,pageSize:10,dataType:1,whichPage:t,getData:this.props.fetchMycardsInfo,addData:t.noMoreData,parentComponent:"myCards"};return t.lotteryCards.map(function(e){return(0,y.compareCards)(e.cards,e.myCards)}),s["default"].createElement("div",{className:"mycards-container"},s["default"].createElement("ul",{className:"mycards-ls"},t.lotteryCards.map(function(e,t){var a=0;return 0===e.cards.length?null:(e.cards.map(function(e){return e.amount&&(a+=parseInt(e.amount,10)),a}),s["default"].createElement("li",{className:"mycards-li",key:t},s["default"].createElement("div",{className:"OneSubcards"},s["default"].createElement("div",{className:"cards"},s["default"].createElement("div",null,(0,y.erilizeText)(e.cycleInfo.theme,8)),s["default"].createElement("div",null,"共集齐",a,"张")),s["default"].createElement("ul",{className:"ls"},e.cards.map(function(e,t){var a={background:"url("+e.smallImage+") no-repeat center",backgroundSize:"100% 100%"},n=void 0;return e.amount&&(n="X"+e.amount),e.amount>99&&(n="99+"),s["default"].createElement("li",{className:"li",key:t},!e.amount&&s["default"].createElement("div",{className:"card-bg shade-img"}),s["default"].createElement("div",{style:a,className:"card-bg"}),!!n&&s["default"].createElement("div",{className:"number"},n))})))))})),s["default"].createElement(h["default"],{data:a}))}}]),t}(u.Component);t["default"]=(0,d.connect)(function(e){return{data:e.mycards}},m)(g)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=r(u),d=a(19),f=a(153),m=n(f),p=a(89),h=r(p);a(181);var y=a(6),v=a(16),b=r(v),g=function(e){function t(){return o(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,+sessionStorage.recordHeight),sessionStorage.removeItem("recordHeight"),b["default"].ui.title("历史获奖记录"),this.props.data.record||this.props.fetchRecordInfo()}},{key:"componentWillUnmount",value:function(){(0,y.sessionStorageHeight)("recordHeight")}},{key:"render",value:function(){var e=this.props.data,t=e.record;if(!t)return null;var a={page:1,pageSize:10,dataType:1,whichCards:t,getData:this.props.fetchRecordInfo,addData:t.noMoreData,parentComponent:"record"};return s["default"].createElement("div",{className:"record-page"},s["default"].createElement("ul",{className:"ls"},e.record.lotteryPrizes.map(function(e,t){var a={background:"url("+e.prize.image+") no-repeat center",backgroundSize:"1.08rem 1.05rem"},n=(0,y.limitTime)(e.cycleInfo.beginTime,e.cycleInfo.endTime),r=e.cycleInfo.theme,o=e.prize.name,l=n+r+o,i={background:"url("+e.lotteryInfo.head+") no-repeat center",backgroundSize:"100% 100%",zIndex:10};return s["default"].createElement("li",{className:"li",key:t},s["default"].createElement("div",{className:"li-l"},s["default"].createElement("div",{className:"logo"},s["default"].createElement("div",{className:"logo-head",style:i})),s["default"].createElement("div",{className:"li-l-r"},s["default"].createElement("div",{className:"prize"},(0,y.erilizeText)(l,32)),s["default"].createElement("div",{className:"user"},e.lotteryInfo.passport))),s["default"].createElement("div",{className:"li-r"},s["default"].createElement("div",{className:"prize-bg",style:a})))})),s["default"].createElement(h["default"],{data:a}))}}]),t}(u.Component);t["default"]=(0,d.connect)(function(e){return{data:e.record}},m)(g)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i,c,u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1),d=n(s),f=a(19),m=a(34),p=a(55);a(183);var h=a(91),y=a(6),v=a(88),b=n(v),g=a(90),E=n(g),_=(c=i=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handleClick=a.handleClick.bind(a),a.secondShare=a.secondShare.bind(a);var n=(0,y.erilizeUrl)(window.location.href);return a.state={winnStatus:n.winnStatus,cardId:n.cardId||"not find the cardId!",cardAmount:n.cardAmount,cycleId:n.cycleId,cardLen:n.cardLen},a.cardImg="",a.cardName="",a.props.fetchShareInfo(n.cycleId),a}return l(t,e),u(t,[{key:"handleClick",value:function(){window.location.href=(0,y.changeUrl)("http://m.163.com/newsapp/applinks.html?url=http://t.c.m.163.com/uncharted/index.html",2)}},{key:"secondShare",value:function(e,t,a,n,r,o){var l={title:"",content:"",img:""},i=e+t;switch(parseInt(this.state.winnStatus,10)){case 100:l.title="我还差"+t+"张卡，集齐可得"+r+"。私聊我，咱们互换吧~",l.content="网易新闻,集卡赢大奖啦",l.img=o,0===t?l.title="我参加网易新闻集卡活动，获得了"+r+"。人品大爆发啊~":0===e&&(l.title="我发现了个好玩的活动，集齐"+i+"张卡可得"+r+"，一般人我不告诉TA");break;case 200:l.title="我参加网易新闻集卡活动，获得了"+r+"。人品大爆发啊~",l.content="网易新闻,集卡赢大奖啦",l.img=o;break;case 300:l.title="我得到了"+a+"，集齐可得"+r+",你也来参加吧",l.content="网易新闻,集卡赢大奖啦",l.img=n;break;default:return}(0,h.secondShareInit)(l)}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.share;if(!a)return null;var n=(0,y.erilizeUrl)(window.location.href),r=a.prize,o=parseInt(n.cardLen,10)-parseInt(n.nowAmount,10);o=o<=0?0:o;var l=a.cycleInfo.theme;a.cards.map(function(t){return parseInt(t.id,10)===parseInt(e.state.cardId,10)&&(e.cardImg=t.image,e.cardName=t.name),!0}),this.secondShare(n.cardLen,o,this.cardName,this.cardImg,r.name,r.image);var i={background:"url("+this.cardImg+") no-repeat center",backgroundSize:"cover"},c={background:"url("+r.image+") no-repeat center",backgroundSize:"cover"};return d["default"].createElement("div",null,d["default"].createElement(E["default"],null),"100"===this.state.winnStatus&&d["default"].createElement("div",{className:"share oneBg"},d["default"].createElement("header",{className:"header mb1"},d["default"].createElement("div",null,d["default"].createElement("div",{className:"title"},this.props.prizeTitle),d["default"].createElement("div",{className:"text"},l))),d["default"].createElement(b["default"],{data:t,isNotHomePage:this.props.isNotDisplay,MarqClass:this.props.MarqClass}),d["default"].createElement("footer",{className:"footer"},0!==o?d["default"].createElement("div",{className:"info1"},d["default"].createElement("div",{className:"card-No"},0===parseInt(n.nowAmount,10)?(0,y.erilizeText)("我还差"+o+"张卡,集齐可得"+r.name+"。私聊我，咱们互换吧~",30):(0,y.erilizeText)("我发现了个好玩的活动,集齐"+parseInt(n.cardLen,10)+"张可得"+r.name+",一般人我不告诉TA",35))):d["default"].createElement("div",{className:"info1"},d["default"].createElement("div",{className:"card-No"},(0,y.erilizeText)("我参加了网易新闻集卡活动,获得了"+r.name+", 人品大爆发啊~",36))),d["default"].createElement("div",{className:"share-btn btn-margin12",onClick:this.handleClick},"我要参与"))),"200"===this.state.winnStatus&&d["default"].createElement("div",{className:"share oneBg"},d["default"].createElement("header",{className:"header mb2"},d["default"].createElement("div",{className:"info"},d["default"].createElement("div",{className:"userinfo"},(0,y.erilizeText)("我参加了网易新闻集卡活动,获得了"+r.name+", 人品大爆发啊~",36)),d["default"].createElement("div",{className:"introduce"})),d["default"].createElement("div",{className:"winnlogo"})),d["default"].createElement(b["default"],{data:t,isNotHomePage:this.props.isNotDisplay,MarqClass:this.props.MarqClass}),d["default"].createElement("footer",{className:"footer"},d["default"].createElement("div",{className:"info2"},d["default"].createElement("div",{className:"prize-title"},this.props.prizeTitle),d["default"].createElement("div",{className:"address"},l)),d["default"].createElement("div",{className:"share-btn btn-margin12",onClick:this.handleClick},"我要参与"))),"300"===this.state.winnStatus&&d["default"].createElement("div",{className:"share anotherBg"},d["default"].createElement("header",{className:"header mb3"},d["default"].createElement("div",{className:"header-inner"},d["default"].createElement("div",{className:"title"},this.props.prizeTitle),d["default"].createElement("div",{className:"text"},l))),d["default"].createElement("div",{className:"shareCard-img"},d["default"].createElement("div",{className:"sharecard-bg",style:i})),d["default"].createElement("footer",{className:"footer"},d["default"].createElement("div",{className:"info3"},d["default"].createElement("div",{className:"info3-img"},d["default"].createElement("div",{className:"info3prize-bg",style:c})),d["default"].createElement("div",{className:"info3-text"},d["default"].createElement("div",{className:"info3-card"},o>0?"我得到了"+this.cardName+"，集齐可得"+r.name+"，一般人我不告诉TA":"我得到了"+this.cardName+"，得到了"+r.name+",一般人我不告诉TA"))),d["default"].createElement("div",{className:"share-btn btn-margin3",onClick:this.handleClick},"我要参与"))))}}]),t}(s.Component),i.defaultProps={isNotDisplay:!0,MarqClass:"r-prize-another",prizeTitle:"头条集卡得大奖",address:"",cardName:"",prizeName:"",cardImg:""},c);t["default"]=(0,f.connect)(function(e){return{data:e.shareItem}},function(e){return{fetchShareInfo:(0,m.bindActionCreators)(p.fetchShareInfo,e)}})(_)},function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(1),s=r(u),d=a(19),f=a(55),m=n(f),p=a(91),h=a(6);a(184);var y=a(90),v=r(y),b=function(e){function t(e){o(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleClick=a.handleClick.bind(a),a.goCollect=a.goCollect.bind(a),a.compareTimeOut=a.compareTimeOut.bind(a),a.secondShare=a.secondShare.bind(a),a.params=(0,h.erilizeUrl)(window.location.href),a.state={alreadyGet:!1,timeOut:!1},a}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchShareInfo(this.params.cycleId),this.props.fetchQueryCard(this.params.giftId,this.params.cardId).then(function(t){var a=e.props.data.share;return a&&t?(e.compareTimeOut(a.cycleInfo.endTime),null!=t.data&&t.data.valid?e.setState({alreadyGet:!1}):e.setState({alreadyGet:!0}),null):null})}},{key:"handleClick",value:function(){window.location.href="http://m.163.com/newsapp/applinks.html?url="+encodeURIComponent((0,h.changeUrl)("http://t.c.m.163.com/uncharted/index.html?getCard=1&cardId=",2)+this.params.cardId+"&giftId="+this.params.giftId+"&")}},{key:"compareTimeOut",value:function(e){var t=new Date,a=void 0;t=t.getTime(),a=t>e,this.setState({timeOut:a})}},{key:"goCollect",value:function(){window.location.href="http://m.163.com/newsapp/applinks.html?url="+(0,h.changeUrl)("http://t.c.m.163.com/uncharted/index.html",2)}},{key:"secondShare",value:function(e,t,a){var n={title:(0,h.erilizeText)(e+"送给你，集齐可领取"+a+",不用谢我，我只是个传说。",40),content:"网易新闻,集卡赢大奖啦",img:t};(0,p.secondShareInit)(n)}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.share,n=t.queryCard;if(!a&&!n)return null;var r=a.cards,o=a.prize.id,l="",i="",c="";r.map(function(t){return parseInt(t.id,10)===parseInt(e.params.cardId,10)&&(l=t.mark,i=t.image,c=t.name),!0}),this.secondShare(c,i,a.prize.name);var u={background:"url("+i+") no-repeat center",backgroundSize:"cover"};return s["default"].createElement("div",{className:"sharecard"},s["default"].createElement(v["default"],null),s["default"].createElement("div",{className:"title"},s["default"].createElement("div",null,s["default"].createElement("div",{className:"user"},(0,h.erilizeText)(c+"送给你,集齐可得"+a.prize.name+",不用谢我，我只是个传说",36)))),s["default"].createElement("div",{className:"info-outer"},s["default"].createElement("div",{className:"inner"},s["default"].createElement("div",{className:"img"},s["default"].createElement("div",{className:"img-bg",style:u})),s["default"].createElement("div",{className:"text"},(0,h.erilizeText)(l,32)),s["default"].createElement("div",{className:"btn",onClick:this.state.alreadyGet||this.state.timeOut?this.goCollect:function(){e.handleClick(o,e.state.cardId)}},this.state.alreadyGet||this.state.timeOut?"自己去收集":"领取")),this.state.alreadyGet&&s["default"].createElement("div",{className:"get-logo get-alreadylogo"}),!this.state.alreadyGet&&this.state.timeOut?s["default"].createElement("div",{className:"get-logo get-timeOutlogo"}):""),s["default"].createElement("div",{className:"warn-update"},"如果领卡失败，请升级到最新版网易新闻"))}}]),t}(u.Component);t["default"]=(0,d.connect)(function(e){return{data:e.shareItem}},m)(b)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"FETCH_EXPIRY_PARAMS":return(0,l["default"])({},e,{expiryParams:(0,l["default"])({},e.expiryParams,t.data)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(24),l=n(o),i=t.INIT_STATE={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1],a=(0,l["default"])({},{},e);switch(t.type){case"FETCH_BASIC_INFO":return(0,l["default"])({},e,{basic:(0,l["default"])({},e.basic,t.data)});case"FETCH_NOTLOGIN_INFO":return(0,l["default"])({},e,{notlogin:(0,l["default"])({},e.notlogin,t.data)});case"CHANGE_LOTTERY_STATUS":return a.basic.lotteryPrizes.map(function(e){return e.lotteryInfo.id===t.data.lotteryId?(0,l["default"])({},e,{lotteryInfo:{status:t.data.status}}):e}),a;case"FETCH_LOTTERY_ID":return(0,l["default"])({},e,{sendLotteryId:(0,l["default"])({},e.sendLotteryId,t.data)});case"FETCH_SHARE_CARD":return(0,l["default"])({},e,{shareCard:(0,l["default"])({},e.shareCard,t.data)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(24),l=n(o),i=t.INIT_STATE={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(34),o=a(41),l=a(171),i=n(l),c=a(174),u=n(c),s=a(173),d=n(s),f=a(175),m=n(f),p=a(170),h=n(p),y=(0,r.combineReducers)({routing:o.routerReducer,home:i["default"],record:u["default"],mycards:d["default"],shareItem:m["default"],expiry:h["default"]});t["default"]=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"FETCH_MYCARDS_INFO":if(e.mycards){if(0===t.data.lotteryCards.length)return(0,l["default"])({},e,{mycards:{noMoreData:!0}});var a=[].concat(e.mycards.lotteryCards,t.data.lotteryCards);return(0,l["default"])({},e,{mycards:{lotteryCards:a}})}return(0,l["default"])({},e,{mycards:(0,l["default"])({},e.mycards,t.data)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(24),l=n(o),i=t.INIT_STATE={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"FETCH_RECORD_INFO":if(e.record){if(0===t.data.lotteryPrizes.length)return(0,l["default"])({},e,{record:{noMoreData:!0}});var a=[].concat(e.record.lotteryPrizes,t.data.lotteryPrizes);return(0,l["default"])({},e,{record:{lotteryPrizes:a,noMoreData:!1}})}return(0,l["default"])({},e,{record:(0,l["default"])({},e.record,t.data)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(24),l=n(o),i=t.INIT_STATE={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];switch(t.type){case"FETCH_SHAREITEM_INFO":return(0,l["default"])({},e,{notlogin:(0,l["default"])({},e.notlogin,t.data)});case"FETCH_SHARE_INFO":return(0,l["default"])({},e,{share:(0,l["default"])({},e.shareInfo,t.data)});case"FETCH_QUERY_CARD":return(0,l["default"])({},e,{queryCard:(0,l["default"])({},e.queryCard,t.data)});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0,t["default"]=r;var o=a(24),l=n(o),i=t.INIT_STATE={}},,function(e,t){e.exports={iosx2:"_1w5Jgy9URCcYv7qt_hA67V",iosx3:"_3XpMZlDJhzqEjRbkQBWhJH"}},function(e,t){},function(e,t){},function(e,t){e.exports={iosx2:"JA951Uz_i9v0e_ttZaCgf",iosx3:"_2FTx7owJZch1WTX7R2ooxC"}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){e.exports={iosx2:"_1V3adZ7zmFAQbHDlEZfhHC",iosx3:"_202C1XJZV6Trak8eGvDopv"}}]);